---
title: "[Kotlin] - null"
last_modified_at: 2023-11-20T22:10:37-23:30
categories: [Book]-Language
tags:
  - ì½”í‹€ë¦° ì™„ë²½ ê°€ì´ë“œ
  - Kotlin
toc: true
toc_sticky: true
toc_label: "Chapter4"
toc_icon: "file"
---

**ì½”í‹€ë¦° ì™„ë²½ ê°€ì´ë“œ**ë¥¼ ê³µë¶€í•˜ë©° ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤.<br>
í˜¼ì ê³µë¶€í•˜ê³  ì •ë¦¬í•œ ë‚´ìš©ì´ë©°, í‹€ë¦° ë¶€ë¶„ì€ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤ ğŸ˜€
{: .notice--info}

`java`ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `kotlin`ì—ë„ `null`ì´ ì¡´ì¬í•œë‹¤.

> `null`ì´ë€, ê·¸ ì–´ë–¤ í• ë‹¹ëœ ê°ì²´ë„ ê°€ë¦¬í‚¤ì§€ ì•ŠëŠ” ì°¸ì¡°ë¥¼ ëœ»í•œë‹¤.

`java`ì—ì„œëŠ” ëª¨ë“  **ì°¸ì¡° íƒ€ì…**ì˜ ë³€ìˆ˜ì— `null`ì„ ëŒ€ì…í•  ìˆ˜ ìˆì§€ë§Œ, í•´ë‹¹ ì°¸ì¡°ì˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ê²½ìš° NPE(Null Pointer Exception)ì´ ë°œìƒí•œë‹¤.
ì´ ì˜¤ë¥˜ê°€ ì¡ê¸° ì–´ë ¤ìš´ ì´ìœ ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ì •ì ì¸ íƒ€ì… ì •ë³´ë§Œìœ¼ë¡œëŠ” ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ì—†ì–´, ëŸ°íƒ€ì„ì´ ë˜ì„œì•¼ ì˜¤ë¥˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

`kotlin` íƒ€ì… ì‹œìŠ¤í…œì—ëŠ” `null` ê°’ì´ ë  ìˆ˜ ìˆëŠ” ì°¸ì¡° íƒ€ì…ê³¼ `null` ê°’ì´ ë  ìˆ˜ ì—†ëŠ” ì°¸ì¡° íƒ€ì…ì„ í™•ì‹¤íˆ êµ¬ë¶„í•´ì£¼ëŠ” í° ì¥ì ì´ ìˆì–´, NPE ì˜ˆì™¸ë¥¼ ìƒë‹¹ ë¶€ë¶„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

## nullì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…

`kotlin`ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ì°¸ì¡° íƒ€ì…ì€ `null`ì´ ë  ìˆ˜ ì—†ëŠ” íƒ€ì…ì´ë‹¤.
ë”°ë¼ì„œ `String` ê°™ì€ íƒ€ì…ì— `null` ê°’ì„ ëŒ€ì…í•  ìˆ˜ ì—†ë‹¤.

```kotlin
fun main() {
    println(isLetterString("abc"))
    // Null can not be a value of a non-null type String
    println(isLetterString(null))
}

fun isLetterString(s: String): Boolean {
    if(s.isEmpty()) return false

    for (ch in s) {
        if(!ch.isLetter()) return false
    }

    return true
}
```

ìœ„ ì½”ë“œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯, ì¸ìë¡œ `null`ì„ ë„˜ê²¨ì¤„ ê²½ìš° ì•ì„œ ë§í•œ ê²ƒê³¼ ê°™ì´ ì°¸ì¡°íƒ€ì…ì¸ íŒŒë¼ë¯¸í„° `s`ëŠ” ê°’ì„ ë°›ì§€ ëª»í•œë‹¤.
ì´ëŸ° ì‹ìœ¼ë¡œ í•¨ìˆ˜ì— `null`ì´ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë³´ì¥í•˜ë¯€ë¡œ, í•¨ìˆ˜ ìì²´ì—ì„œëŠ” `null` ê²€ì‚¬ë¥¼ ì¶”ê°€ë¡œ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ë‹¤.

`kotlin`ì—ì„œëŠ” `String?`ê³¼ ê°™ì´ `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```kotlin
fun isLetterString(s: String?): Boolean {
    
    if(s.isNullOrBlank()) return false
    
    for (ch in s) {
        if(!ch.isLetter()) return false
    }

    return true
}
```

ìœ„ ì½”ë“œë¥¼ ë³´ë©´ `s`ê°€ `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ì„ í•´ì¤¬ê¸° ë•Œë¬¸ì—, í•„ìˆ˜ì ìœ¼ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì— `null`ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.
ë§Œì•½ `null` ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì„ ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

> `java`ì—ì„œì˜ `null`ì²˜ë¦¬ëŠ” ê°œë°œìì—ê² í•„ìˆ˜ì´ì§€ë§Œ, ì»´íŒŒì¼ëŸ¬ ì…ì¥ì—ì„œëŠ” ììœ ê¸° ë•Œë¬¸ì— ì—ëŸ¬ë¥¼ ë„ì›Œì£¼ì§€ ì•ŠëŠ”ë‹¤.

í•¨ìˆ˜ì‹ì—ì„œëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

```kotlin
fun isBooleanString(s: String?) = s == "false" || s == "true"
```

ê°„ë‹¨í•˜ê²Œ ê²€ì‚¬ë§Œí•˜ëŠ” í•¨ìˆ˜ ì‹ì—ì„œëŠ” `null`ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.
ì´ëŸ° ìƒí™©ì—ì„  `NPE`ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì´ ì•„ë‹Œ ì¡°ê±´ì— ë§ì§€ ì•Šìœ¼ë‹ˆ `false`ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.

ë˜í•œ, `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ê¸°ë³¸ íƒ€ì…ì— ë„£ì„ ìˆ˜ ì—†ë‹¤.

```kotlin
fun main() {
    val s: String? = "abc"
    // error : Type mismatch
    val ss: String = s
}
```

ëŸ°íƒ€ì„ì— `null`ì´ ë  ìˆ˜ ì—†ëŠ” ê°’ì€ ì‹¤ì œë¡œ `null`ì´ ë  ìˆ˜ ìˆëŠ” ê°’ê³¼ ì°¨ì´ê°€ ì—†ë‹¤. ë‘˜ ì‚¬ì´ì˜ êµ¬ë¶„ì€ ì»´íŒŒì¼ ìˆ˜ì¤€ì—ì„œë§Œ ì¡´ì¬í•œë‹¤.

ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” `null`ì´ ë  ìˆ˜ ì—†ëŠ” ê°’ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ `java`ì˜ `Optional`ê³¼ ê°™ì€ ë˜í¼ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
ê·¸ë ‡ê¸°ì— ê°’ì„ ë°•ì‹±í•˜ê±°ë‚˜ ì–¸ë°•ì‹±ì— ëŒ€í•œ ë¶€ê°€ ë¹„ìš©ì´ ë“¤ì§€ ì•ŠëŠ”ë‹¤.

ê°€ì¥ ì‘ì€ `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì€ `Nothing?`ì´ë‹¤.
ì´ íƒ€ì…ì€ `null` ìƒìˆ˜ ì´ì™¸ì˜ ì–´ë– í•œ ê°’ë„ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©°, `null` ê°’ ìì²´ì˜ íƒ€ì…ì´ë©°, ë‹¤ë¥¸ ëª¨ë“  `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì…ì´ë‹¤.

ê°€ì¥ í° `null`ì´ ë  ìˆ˜ ìˆëŠ” íƒ€ì…ì€ `Any?`ì´ë‹¤.
`Any?`ëŠ” íƒ€ì… ì‹œìŠ¤í…œ ì „ì²´ì—ì„œ ê°€ì¥ í° íƒ€ì…ìœ¼ë¡œ, `null`ì´ ë  ìˆ˜ ìˆëŠ” ëª¨ë“  íƒ€ì…ê³¼ ë  ìˆ˜ ì—†ëŠ” ëª¨ë“  íƒ€ì…ì˜ ìƒìœ„ íƒ€ì…ì´ë‹¤.

## null ê°€ëŠ¥ì„±ê³¼ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸

ì•„ë˜ ì½”ë“œë¥¼ ì‹¤ì œë¡œ ì‘ì„±í•´ë³´ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```kotlin
fun isLetterString(s: String?): Boolean {
    // ì—ëŸ¬ ë°œìƒ : Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type String?
    if(s.isEmpty()) return false

    for(ch in s) {
        if(!ch.isLetter()) return false
    }

    return true
}
```

`s`ê°€ `null`ì— ëŒ€í•œ ê°€ëŠ¥ì„±ì´ ì—´ë ¤ìˆëŠ” ìƒíƒœì—ì„œ `s`ì— ëŒ€í•œ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ê²½ìš° `NPE`ê°€ ë°œìƒí•  ìœ„í—˜ì´ ìˆë‹¤.
ë•Œë¬¸ì— `kotlin`ì—ì„œëŠ” `null`ì— ëŒ€í•œ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ìƒíƒœì—ì„œ í•´ë‹¹ ë³€ìˆ˜(ê°ì²´)ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

`null`ì´ ë  ìˆ˜ ìˆëŠ” ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ê°€ì¥ ì§ì ‘ì ì¸ ë°©ë²•ì€ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•´ ë¹„êµí•˜ëŠ” ê²ƒì´ë‹¤.

```kotlin
fun isLetterString(s: String?): Boolean {
    if(s == null) return false
    
    if(s.isEmpty()) return false
    
    for(ch in s) {
        if(!ch.isLetter()) return false
    }
    
    return true;
}
```

ì´ì™€ ê°™ì´ `null`ì— ëŒ€í•œ ê²€ì‚¬ë¥¼ ì§„í–‰í•´ì£¼ë©´ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸(smart cast)ë¼ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ì»´íŒŒì¼ì´ ê°€ëŠ¥í•˜ë„ë¡ í•œë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ `null`ì— ëŒ€í•œ ë™ë“±ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ë©´, ì»´íŒŒì¼ëŸ¬ëŠ” ì½”ë“œ íë¦„ì˜ ê°€ì§€ ì¤‘ í•œ ìª½ì—ëŠ” ëŒ€ìƒ ê°’ì´ í™•ì‹¤íˆ `null`ì´ê³ , ë‹¤ë¥¸ ê°€ì§€ì—ëŠ” í™•ì‹¤íˆ `null`ì´ ì•„ë‹ˆë¼ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤.
ê·¸ í›„ ì»´íŒŒì¼ëŸ¬ëŠ” ì´ ì •ë³´ë¥¼ ì‚¬ìš©í•´ ê°’ íƒ€ì…ì„ ì„¸ë¶„í™”í•¨ìœ¼ë¡œì¨ `null`ì´ ë  ìˆ˜ ìˆëŠ” ê°’ì„ íƒ€ì… ë³€í™˜(cast)í•œë‹¤.

```kotlin
fun describeNumber(n: Int?) = when(n) {
    null -> "null"
    in 0 .. 10 -> "small"
    in 11 .. 100 -> "large"
    else -> "out of range"
}
```

ìœ„ ì½”ë“œì™€ ê°™ì´ `when` ì ˆì—ì„œë„ `null`ì— ëŒ€í•œ ì²´í¬ë¥¼ í†µí•´ **ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸**ê°€ ê°€ëŠ¥í•˜ë‹¤.

## null ì•„ë‹˜ ë‹¨ì–¸ ì—°ì‚°ì

`!!` ì—°ì‚°ìëŠ” `null` ì•„ë‹˜ ë‹¨ì–¸(not- null assertion)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

```kotlin
fun main() {
    var name: String? = null

    fun sayHello() {
        println(name!!.uppercase())
    }

    sayHello()
}
```

ì¦‰, ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•  ê²½ìš° `name`ì˜ ê°’ì—ëŠ” ì‹¤ì œë¡œ `null`ì´ ë“¤ì–´ê°€ìˆëŠ” ìƒíƒœì´ì§€ë§Œ,
`sayHello()`ì—ì„œ `name!!`ìœ¼ë¡œ `null`ì´ ì•„ë‹ˆë¼ê³  ë‹¨ì •ì§€ì—ˆê¸° ë•Œë¬¸ì— ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

ì´ëŠ” `KotlinNullPointerException` ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì—°ì‚°ìì´ë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ì´ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

## ì—˜ë¹„ìŠ¤ ì—°ì‚°ì

`null`ì´ ë  ìˆ˜ ìˆëŠ” ê°’ì„ ë‹¤ë£° ë•Œ, ìœ ìš©í•œ ì—°ì‚°ìë¡œ `null` ë³µí•© ì—°ì‚°ì(null coalescing operator)ì¸ `?:`ì´ ìˆë‹¤.

ì´ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ `null`ì„ ëŒ€ì‹ í•  ë””í´íŠ¸ ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

> ì—˜ë¹„ìŠ¤ í”„ë ˆìŠ¬ë¦¬(Elvis Persley)ë¥¼ ë‹®ì•˜ê¸° ë•Œë¬¸ì— ì—˜ë¹„ìŠ¤ ì—°ì‚°ìë¼ ë¶€ë¥¸ë‹¤.

```kotlin
fun main() {
    sayHello(null)
}

fun sayHello(name: String?) {
    // ì¶œë ¥ : Hello, Unknown
    println("Hello, " + (name ?: "Unknown"))
}
```

ì™¼ìª½ í”¼ì—°ì‚°ìê°€ `null`ì´ ì•„ë‹ ê²½ìš°ì—ëŠ” ì™¼ìª½ í”¼ì—°ì‚°ìì˜ ê°’ì„ ì‚¬ìš©í•˜ë©°, ê·¸ê²Œ ì•„ë‹ ê²½ìš° ì˜¤ë¥¸ìª½ í”¼ì—°ì‚°ìì˜ ê°’ì„ ì‚¬ìš©í•œë‹¤.

```kotlin
class Name(val firstName: String, val familyName: String?)
class Person(val name: Name?) {
    fun introduce(): String {
        val currentName = name ?: return "Unknown"
        return "${currentName.firstName} ${currentName.familyName}"
    }
}

fun main() {
    println(Person(Name("John", "Doe")).introduce())
    println(Person(null).introduce())
}
```

ìœ„ ì½”ë“œ ì¤‘ `introduce()` í•¨ìˆ˜ë¥¼ ë³´ë©´ `name`ì´ `null`ì¼ ê²½ìš° `Unknown`ì„ ë°˜í™˜í•˜ë„ë¡ í–ˆë‹¤.
ë•Œë¬¸ì— ì•„ë˜ì—ì„œ ë°˜í™˜í•˜ëŠ” `currentName.firstName`ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.
