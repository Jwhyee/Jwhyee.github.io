---
title: "[Chapter4] - í´ë˜ìŠ¤, ê°ì²´, ì¸í„°í˜ì´ìŠ¤"
last_modified_at: 2024-01-27T22:10:37-23:30
categories: "[Book]-Language"
tags:
   - Kotlin in action
   - Kotlin
toc: true
toc_sticky: true
toc_label: "Chapter4"
toc_icon: "file"
---

**ì½”í‹€ë¦° ì¸ ì•¡ì…˜**ë¥¼ ê³µë¶€í•˜ë©° ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤.<br>
í˜¼ì ê³µë¶€í•˜ê³  ì •ë¦¬í•œ ë‚´ìš©ì´ë©°, í‹€ë¦° ë¶€ë¶„ì€ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤ ğŸ˜€
{: .notice--info}

## 1. í´ë˜ìŠ¤ ê³„ì¸µ ì •ì˜

### ì¸í„°í˜ì´ìŠ¤

ì½”í‹€ë¦°ì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ìë°” 8 ì¸í„°í˜ì´ìŠ¤ì™€ ë¹„ìŠ·í•˜ë‹¤.  
ì¶”ìƒ ë©”ì†Œë“œë¿ ì•„ë‹ˆë¼, êµ¬í˜„ì´ ìˆëŠ” ë©”ì†Œë“œë„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.(ìë°” 8ì˜ ë””í´íŠ¸ ë©”ì†Œë“œì™€ ë¹„ìŠ·í•˜ë‹¤.)  
ë‹¤ë§Œ, ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì•„ë¬´ëŸ° ìƒíƒœ(í•„ë“œ)ë„ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤.

ì•„ë˜ì™€ ê°™ì´ ì¶”ìƒ ë©”ì†Œë“œë¥¼ ì •ì˜í•  ê²½ìš° ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ëª¨ë“  ë¹„ì¶”ìƒ í´ë˜ìŠ¤(êµ¬ì²´ í´ë˜ìŠ¤)ëŠ” `click` í•¨ìˆ˜ì— ëŒ€í•œ êµ¬í˜„ì„ ì œê³µí•´ì•¼ í•œë‹¤.

```kotlin  
interface Clickable {  
	fun click()  
}  
```  

```kotlin  
class Button : Clickable {  
	override fun click() = println("I was clicked")  
}  
```  

ë°˜ë©´ `showOff` ë©”ì†Œë“œì˜ ê²½ìš° ìƒˆë¡œìš´ ë™ì‘ì„ ì •ì˜í•  ìˆ˜ë„ ìˆê³ , ì •ì˜ë¥¼ ìƒëµí•´ì„œ default êµ¬í˜„ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

```kotlin  
interface Clickable {  
	fun click()  
	fun showOff() = println("I'm clickable")  
}  
```  

```kotlin  
interface Focusable {  
	fun setFocus(b: Boolean) =  
		println("I ${if (b) "got" else "lost"} focus.")  
	  
	fun showOff() = println("I'm focusable")  
}  
```  

ë§Œì•½ ìœ„ ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ ìˆê³ , `showOff()`ë¥¼ í˜¸ì¶œí•˜ë©´ ì–´ë–¤ ì¸í„°í˜ì´ìŠ¤ì˜ default ë©”ì†Œë“œê°€ ì‹¤í–‰ë ê¹Œ?  
ì¸í…”ë¦¬ì œì´ë¥¼ í†µí•´ `Implement members`ë¥¼ ì‹¤í–‰í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ë™ì¼í•œ ë©”ì†Œë“œê°€ ìƒê¸´ë‹¤.

```kotlin  
class Button : Clickable, Focusable {  
	override fun click() = println("I was clicked")  
	override fun showOff() {  
		TODO("Not yet implemented")  
	}  
	override fun showOff() {  
		TODO("Not yet implemented")  
	}  
}  
```  

í´ë˜ìŠ¤ê°€ êµ¬í˜„í•˜ëŠ” ë‘ ìƒìœ„ ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ëœ `showOff`ë¥¼ êµ¬í˜„ì„ ëŒ€ì²´í•  ì˜¤ë²„ë¼ì´ë”© ë©”ì†“ë¥¼ ì§ì ‘ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´, ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

```  
Class 'Button' must override public open fun showOff(): Unit  
defined in chapter04.part1.Clickable  
because it inherits multiple interface methods of it  
```  

ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” ë‘ ë©”ì†Œë“œë¥¼ ì•„ìš°ë¥´ëŠ” êµ¬í˜„ì„ í•˜ìœ„ í´ë˜ìŠ¤ì— ì§ì ‘ êµ¬í˜„í•˜ê²Œ ê°•ì œí•œë‹¤.  
ë•Œë¬¸ì— ì•„ë˜ ì½”ë“œì™€ ê°™ì´ `super`ë¥¼ ì§€ì •í•´ ìƒìœ„ íƒ€ì…ì˜ ì´ë¦„ì„ êº¾ì‡  ì‚¬ì´ì— ë„£ìœ¼ë©´, ì–´ë–¤ ìƒìœ„ íƒ€ì…ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí• ì§€ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```kotlin  
class Button : Clickable, Focusable {  
	override fun click() = println("I was clicked")  
	override fun showOff() {  
		super<Focusable>.showOff()  
		super<Clickable>.showOff()  
	}  
}  
```  

#### ì½œë¡ (:) ì»¨ë²¤ì…˜

ì½”í‹€ë¦° [ê³µì‹ ë¬¸ì„œ](https://kotlinlang.org/docs/coding-conventions.html#colon)ì— ë‚˜ì™€ìˆë“¯,  
í´ë˜ìŠ¤ì˜ ìƒì†, êµ¬í˜„ì€ ` : `ë¥¼ ì‚¬ìš©í•˜ë©°, ë³€ìˆ˜ ë° í•¨ìˆ˜ì˜ ë¦¬í„´ íƒ€ì…ì€ `: `ë¥¼ ì‚¬ìš©í•œë‹¤.

```kotlin  
abstract class Foo<out T : Any> : IFoo {  
abstract fun foo(a: Int): T  
}  
  
class FooImpl : Foo() {  
constructor(x: String) : this(x) { /*...*/ }  
val x = object : IFoo { /*...*/ }  
}  
  
val mutableCollection: MutableSet<String> = HashSet()  
```  

### open, final, abstract ë³€ê²½ì

#### open, final

ìë°”ì—ì„œ `final`ì„ ëª…ì‹œí•œ í´ë˜ìŠ¤ëŠ” ìƒì†ì„ í•  ìˆ˜ ì—†ë‹¤.  
ê¸°ë³¸ì ìœ¼ë¡œ ìƒì†ì´ ê°€ëŠ¥í•˜ë©´, í¸ë¦¬í•œ ê²½ìš°ë„ ìˆì§€ë§Œ, ì·¨ì•½í•œ ê¸°ë°˜ í´ë˜ìŠ¤(fragile base class)ë¼ëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤.  
ì¦‰, í•˜ìœ„ í´ë˜ìŠ¤ê°€ ê¸°ë°˜ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•œ ì½”ë“œë¥¼ ë³€ê²½í•¨ìœ¼ë¡œì¨ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒì´ë‹¤.

ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë¶„ì„í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ê¸°ë°˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš° í•˜ìœ„ í´ë˜ìŠ¤ì˜ ë™ì‘ì´ ì˜ˆê¸°ì¹˜ ì•Šê²Œ ë°”ë€” ìˆ˜ë„ ìˆë‹¤ëŠ” ë©´ì—ì„œ ê¸°ë°˜ í´ë˜ìŠ¤ëŠ” ì·¨ì•½í•˜ë‹¤.

[Effective Java, Item19;ìƒì†ì„ ê³ ë ¤í•´ ì„¤ê³„í•˜ê³ , ë¬¸ì„œí™”í•˜ë¼. ê·¸ë ‡ì§€ ì•Šì•˜ë‹¤ë©´ ìƒì†ì„ ê¸ˆì§€í•˜ë¼.]ì— ë‚˜ì˜¤ëŠ” ê¸€ì„ ë³´ë©´, ë‹¤ìŒê³¼ ê°™ì€ ê¸€ì´ ë“±ì¥í•œë‹¤.

> ë¬¸ì„œí™”ë¥¼ í•´ë†“ì§€ ì•Šì€ 'ì™¸ë¶€' í´ë˜ìŠ¤ë¥¼ ìƒì†í•  ë•Œì˜ ìœ„í—˜ì„ ê²½ê³ í–ˆë‹¤. ì—¬ê¸°ì„œ 'ì™¸ë¶€'ë€, í”„ë¡œê·¸ë˜ë¨¸ì˜ í†µì œê¶Œ ë°–ì— ìˆì–´ì„œ ì–¸ì œ ì–´ë–»ê²Œ ë³€ê²½ë ì§€ ëª¨ë¥¸ë‹¤ëŠ” ëœ»ì´ë‹¤.  
> ìƒì†ìš© í´ë˜ìŠ¤ëŠ” ì¬ì •ì˜í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë“¤ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì´ìš©í•˜ëŠ”ì§€(ìê¸° ì‚¬ìš©) ë¬¸ì„œë¡œ ë‚¨ê²¨ì•¼ í•œë‹¤.

ì½”í‹€ë¦°ë„ ìœ„ ì² í•™ì„ ë”°ë¼, ê¸°ë³¸ í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œëŠ” `final`ë¡œ ë˜ì–´ ìƒì†ì„ ê¸ˆì§€í•˜ê³  ìˆë‹¤.  
ë•Œë¬¸ì— ìƒì†ì„ í—ˆìš©í•˜ë ¤ë©´ `open` ë³€ê²½ìë¥¼ ë¶™ì—¬ì•¼í•˜ë©°, `override`ë¥¼ í•´ì¤„ í•¨ìˆ˜ì—ë„ `open`ì„ ë¶™ì—¬ì•¼ í•œë‹¤.

```kotlin  
// ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†í•  ìˆ˜ ìˆë‹¤.  
open class RichButton : Clickable {  
// ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì„ ì–¸ëœ open ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í–ˆë‹¤.  
// ì˜¤ë²„ë¼ì´ë“œí•œ ë©”ì†Œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—´ë ¤ìˆë‹¤.  
override fun click() { }  
// final í•¨ìˆ˜ë¡œ ì§€ì •ë˜ì–´ ìˆì–´ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ì—†ë‹¤.  
fun disable() { }  
// ì´ í•¨ìˆ˜ëŠ” ì—´ë ¤ìˆì–´ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆë‹¤.  
open fun animate() { }  
}  
```  

ë§Œì•½ `click()`ê³¼ ê°™ì´ ìƒìœ„ì—ì„œ ë°›ì•„ì˜¨ ë©”ì†Œë“œì— ëŒ€í•œ êµ¬í˜„ì„ ê¸ˆì§€í•˜ê³  ì‹¶ë‹¤ë©´ `final`ì„ ëª…ì‹œí•´ì•¼ í•œë‹¤.

```kotlin  
open class RichButton : Clickable {  
// í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ì—†ë‹¤.  
final override fun click() { }  
}  
```  

#### abstract

`abstract` í´ë˜ìŠ¤ì˜ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ì—†ë‹¤.
- êµ¬í˜„ì´ ì—†ëŠ” ì¶”ìƒ ë©¤ë²„ê°€ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.
- í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ê·¸ ì¶”ìƒ ë©¤ë²„ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•´ì•¼ë§Œ í•˜ëŠ”ê²Œ ë³´í†µì´ë‹¤.
- ì¶”ìƒ ë©¤ë²„ëŠ” í•­ìƒ ì—´ë ¤ ìˆì–´ `open` ë³€ê²½ìë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

```kotlin  
abstract class Animated {  
// ì¶”ìƒ í•¨ìˆ˜ : êµ¬í˜„ì´ ì—†ìœ¼ë©°, í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ ì˜¤ë²„ë¼ì´ë“œ í•´ì•¼ í•¨  
abstract fun animate()  
  
// ë¹„ì¶”ìƒ í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ finalì„  
fun animateTwice() { }  
  
// open ë³€ê²½ìë¥¼ í†µí•´ ì˜¤ë²„ë¼ì´ë“œë¥¼ í—ˆìš©í•  ìˆ˜ ìˆìŒ  
open fun stopAnimating() { }  
}  
```  

| ë³€ê²½ì | íŠ¹ì§• | ì„¤ëª… |  
|----------|-----------------------------|------------------------------------|  
| final | ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ì—†ìŒ | í´ë˜ìŠ¤ ë©¤ë²„ì˜ ê¸°ë³¸ ë³€ê²½ì |  
| open | ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆìŒ | ë°˜ë“œì‹œ openì„ ëª…ì‹œí•´ì•¼ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆìŒ |  
| abstract | ë°˜ë“œì‹œ ì˜¤ë²„ë¼ì´ë“œ í•´ì•¼ í•¨ | ì¶”ìƒ í´ë˜ìŠ¤ì˜ ë©¤ë²„ì—ë§Œ ë¶™ì„ ìˆ˜ ìˆìœ¼ë©°, êµ¬í˜„ì´ ìˆìœ¼ë©´ ì•ˆ ëŒ |  
| override | ìƒìœ„ í´ë˜ìŠ¤ë‚˜ ìƒìœ„ ì¸í„°í˜ì´ìŠ¤ì˜ ë©¤ë²„ë¥¼ ì˜¤ë²„ë¼ì´ë“œ | í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì˜¤ë²„ë¼ì´ë“œë¥¼ ë§‰ìœ¼ë ¤ë©´ finalì„ ëª…ì‹œí•´ì•¼ í•¨ |  

### ê°€ì‹œì„± ë³€ê²½ì

ì½”í‹€ë¦°ì˜ ê¸°ë³¸ ê°€ì‹œì„±(ì•„ë¬´ê²ƒë„ ëª…ì‹œí•˜ì§€ ì•Šì„ ê²½ìš°)ì€ `public`ì´ë‹¤.  
íŒ¨í‚¤ì§€ë¥¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤(namespace)ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ê°€ì‹œì„± ì œì–´ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì½”í‹€ë¦°ì—ëŠ” `internal` ì´ë¼ëŠ” ìƒˆë¡œìš´ ê°€ì‹œì„± ë³€ê²½ìê°€ ìˆëŠ”ë°, ì´ëŠ” 'ëª¨ë“ˆ ë‚´ë¶€ì—ì„œë§Œ ë³¼ ìˆ˜ ìˆìŒ'ì´ë¼ëŠ” ì˜ë¯¸ë¡œ í•´ì„ëœë‹¤.  
ëª¨ë“ˆì€ í•œêº¼ë²ˆì— ì»´íŒŒì¼ë˜ëŠ” ì½”í‹€ë¦° íŒŒì¼ì„ ì˜ë¯¸í•œë‹¤.

- ì¸í…”ë¦¬ì œì´, ë©”ì´ë¸, ê·¸ë ˆì´ë“¤ ë“±ì˜ í”„ë¡œì íŠ¸
- ì•¤íŠ¸ íƒœìŠ¤í¬ê°€ í•œ ë²ˆ ì‹¤í–‰ë  ë•Œ í•¨ê»˜ ì»´íŒŒì¼ë˜ëŠ” íŒŒì¼ì˜ ì§‘í•©

| ë³€ê²½ì | í´ë˜ìŠ¤ ë©¤ë²„ | ìµœìƒìœ„ ì„ ì–¸ |  
|-----------|---------------------|--------------------|  
| public | ëª¨ë“  ê³³ì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. | ëª¨ë“  ê³³ì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. |  
| internal | ê°™ì€ ëª¨ë“ˆ ì•ˆì—ì„œë§Œ ë³¼ ìˆ˜ ìˆë‹¤. | ê°™ì€ ëª¨ë“ˆ ì•ˆì—ì„œë§Œ ë³¼ ìˆ˜ ìˆë‹¤. |  
| protected | í•˜ìœ„ í´ë˜ìŠ¤ ì•ˆì—ì„œë§Œ ë³¼ ìˆ˜ ìˆë‹¤. | (ìµœìƒìœ„ ì„ ì–¸ì— ì ìš©í•  ìˆ˜ ì—†ìŒ) |  
| private | ê°™ì€ í´ë˜ìŠ¤ ì•ˆì—ì„œë§Œ ë³¼ ìˆ˜ ìˆë‹¤. | ê°™ì€ íŒŒì¼ ì•ˆì—ì„œë§Œ ë³¼ ìˆ˜ ìˆë‹¤. |  

ìœ„ ê°€ì‹œì„± ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ì½”ë“œë¥¼ í†µí•´ ì‚´í´ë³´ì.

```kotlin  
internal open class TalkativeButton : Focusable {  
private fun yell() = println("Hey!")  
protected fun whisper() = println("Let's talk!")  
}  
  
fun TalkativeButton.giveSpeech() {  
yell()  
whisper()  
}  
```  

ìœ„ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë‘ ê°€ì§€ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

ì²« ë²ˆì§¸ëŠ” í™•ì¥ í•¨ìˆ˜ ì„ ì–¸ì— ëŒ€í•œ ì—ëŸ¬ì´ë‹¤.  
`Talkative`ëŠ” internal ê°€ì‹œì„±ìœ¼ë¡œ ì§€ì •ë˜ì–´ ìˆë‹¤.  
í•˜ì§€ë§Œ í™•ì¥ í•¨ìˆ˜ëŠ” ê¸°ë³¸ ê°€ì‹œì„±ì¸ publicìœ¼ë¡œ ì„ ì–¸ë˜ì–´, ê·¸ë³´ë‹¤ ê°€ì‹œì„±ì´ ë” ë‚®ì€ internalì„ ì°¸ì¡°í•˜ì§€ ëª»í•œë‹¤.

ë‘ ë²ˆì§¸ëŠ” í™•ì¥ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.  
`yell()`ì˜ ê²½ìš° private ê°€ì‹œì„±ì„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.  
í™•ì¥ í•¨ìˆ˜ê°€ ë§ˆì¹˜ í´ë˜ìŠ¤ ë‚´ë¶€ì— ì„ ì–¸ëœ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ë”ë¼ë„,  
ì„ ì–¸ ìì²´ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ í–ˆê¸° ë•Œë¬¸ì— private ê°€ì‹œì„±ì„ ê°€ì§„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.  
`whisper()`ì˜ ê²½ìš°ì—ë„ protected ê°€ì‹œì„±ì„ ê°–ê³  ìˆì–´, `Talkative` í´ë˜ìŠ¤ ë‚´ë¶€ í˜¹ì€ ì´ë¥¼ ìƒì†í•œ í´ë˜ìŠ¤ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

> internalì€ ìë°”ì™€ ë”± ë§ëŠ” ê°€ì‹œì„±ì´ ì—†ê¸° ë•Œë¬¸ì— ë°”ì´íŠ¸ ì½”ë“œ ìƒì—ì„œ publicìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê²Œ ëœë‹¤.

### ì¤‘ì²©(nested) í´ë˜ìŠ¤

ì½”í‹€ë¦°ì˜ ì¤‘ì²© í´ë˜ìŠ¤ëŠ” ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•˜ì§€ ì•ŠëŠ” í•œ ë°”ê¹¥ìª½ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì—†ë‹¤.  
ì™œ ì´ëŸ° íŠ¹ì„±ì´ ì¤‘ìš”í•œì§€ ì½”ë“œë¥¼ í†µí•´ ì‚´í´ë³´ì.

ì•„ë˜ ì½”ë“œëŠ” View ìš”ì†Œë¥¼ ë§Œë“¤ ë•Œ, ìƒíƒœë¥¼ ì§ë ¬í™”í•˜ê¸° ìœ„í•œ ì½”ë“œì´ë‹¤.  
ì´ë¥¼ ìœ„í•´, State ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ ì–¸í•˜ê³ , Serializableì„ êµ¬í˜„í•˜ë„ë¡ í•œë‹¤.

```kotlin  
interface State : Serializable  
interface View {  
fun getCurrentState(): State  
fun restoreState(state: State) { }  
}  
```  

ì´ì œ ë·°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë²„íŠ¼ì„ ìë°” í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ë³´ì.

```java  
public class Button implements View {  
  
@NotNull  
@Override  
public State getCurrentState() {  
return new ButtonState();  
}  
  
@Override  
public void restoreState(@NotNull State state) { }  
  
public class ButtonState implements State {  
public boolean status = false;  
}  
}  
```  

`State`ë¥¼ êµ¬í˜„í•œ `ButtonState` í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œ ë’¤, ë²„íŠ¼ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.  
`getCurrentState`ë¥¼ í†µí•´ì„œ í˜„ì¬ ìƒíƒœì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

í•˜ì§€ë§Œ ìœ„ ì½”ë“œì—ì„œ `ButtonState`ëŠ” ë°”ê¹¥ í´ë˜ìŠ¤ì¸ `Button` í´ë˜ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë¬µì‹œì ìœ¼ë¡œ í¬í•¨í•˜ë¯€ë¡œ, ì§ë ¬í™”í•  ìˆ˜ ì—†ë‹¤.  
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `ButtonState`ë¥¼ `static` í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•´ì•¼ ë°”ê¹¥ìª½ í´ë˜ìŠ¤ì— ëŒ€í•œ ë¬µì‹œì ì¸ ì°¸ì¡°ê°€ ì‚¬ë¼ì ¸ ì§ë ¬í™”í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì½”í‹€ë¦°ì—ì„œ ì¤‘ì²© í´ë˜ìŠ¤ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì€ ì´ì™€ ì •ë°˜ëŒ€ì´ë‹¤.

```kotlin  
class _Button : View {  
override fun getCurrentState(): State { }  
override fun restoreState(state: State) { }  
class ButtonState : State { }  
}  
```  

ì½”í‹€ë¦°ì—ì„œ ì¤‘ì²© í´ë˜ìŠ¤ì— ì•„ë¬´ëŸ° ë³€ê²½ìê°€ ë¶™ì§€ ì•Šìœ¼ë©´, ìë°” `static` ì¤‘ì²© í´ë˜ìŠ¤ì™€ ë™ì¼í•˜ë‹¤.  
ë§Œì•½ ë‚´ë¶€ í´ë˜ìŠ¤ë¡œ ë³€ê²½í•˜ë ¤ë©´ `inner` ë³€ê²½ìë¥¼ ë¶™ì—¬ì•¼ í•œë‹¤.

```kotlin  
class Outer {  
// inner ë³€ê²½ìë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ this@Outerì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•¨  
inner class Inner {  
fun getOuterReference(): Outer = this@Outer  
}  
}  
```  

| êµ¬ë¶„ | ìë°” | ì½”í‹€ë¦° |  
|----------------------------|---------------|---------------|  
| ì¤‘ì²© í´ë˜ìŠ¤(ë°”ê¹¥ í´ë˜ìŠ¤ì— ëŒ€í•œ ì°¸ì¡° ì €ì¥ X) | static class A | class A |  
| ë‚´ë¶€ í´ë˜ìŠ¤(ë°”ê¹¥ í´ë˜ìŠ¤ì— ëŒ€í•œ ì°¸ì¡° ì €ì¥ O) | class A | inner class A |  

### ë´‰ì¸ëœ(sealed) í´ë˜ìŠ¤

ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” `when`ì„ ì‚¬ìš©í•  ê²½ìš° `else` ë¶„ê¸°ë¥¼ ë¶™ì´ë„ë¡ ê°•ì œí•œë‹¤. ë•Œë¬¸ì— ë°˜í™˜í•  ë§Œí•œ ì˜ë¯¸ ìˆëŠ” ê°’ì´ ì—†ìœ¼ë¯€ë¡œ ë³´í†µ ì˜ˆì™¸ë¥¼ ë˜ì§€ê¸° ë§ˆë ¨ì´ë‹¤. ì˜ˆì™¸ ë¶„ê¸°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ í¸í•˜ì§€ì•Šê³ , ë²„ê·¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì›ì¸ì´ ë˜ê¸°ë„ í•œë‹¤. `sealed` ë³€ê²½ìë¥¼ ë¶™ì´ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```kotlin  
sealed class Expr {  
	class Num(val value: Int) : Expr()  
	class Sum(val left: Expr, val right: Expr) : Expr()  
}  
  
// Exprì˜ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” Num, Sum ë¿ì´ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ elseë¥¼ ì²˜ë¦¬í•´ì¤„ í•„ìš”ê°€ ì—†ë‹¤.  
fun eval(e: Expr): Int = when (e) {  
	is Expr.Num -> e.value  
	is Expr.Sum -> eval(e.right) + eval(e.left)  
}  
```  

`sealed` í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `open`ì´ë©°, í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ë•ŒëŠ” ë°˜ë“œì‹œ ìƒìœ„ í´ë˜ìŠ¤ ì•ˆì— ì¤‘ì²©ì‹œì¼œì•¼ í•œë‹¤. ê·¸ëŸ¬ë©´, ê·¸ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ìƒì†í•œ í•˜ìœ„ í´ë˜ìŠ¤ ì •ì˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤. ë˜í•œ, í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìƒˆë¡œ ìƒê¸¸ ê²½ìš°, `when`ì— í•´ë‹¹ ë¶„ê¸°ë¥¼ ì¶”ê°€í•˜ë„ë¡ ê²½ê³ ë¥¼ ë‚´ë¿œëŠ”ë‹¤.

```  
'when' expression must be exhaustive, add necessary 'is Div' branch or 'else' branch instead  
```  

## 2. ë»”í•˜ì§€ ì•Šì€ ìƒì„±ìì™€ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” í´ë˜ìŠ¤ ì„ ì–¸

ì½”í‹€ë¦°ì€ ì£¼ìƒì„±ì(primary constructor; í´ë˜ìŠ¤ë¥¼ ì´ˆê¸°í™”í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê°„ëµí•œ ìƒì„±ìë¡œ, í´ë˜ìŠ¤ ë³¸ë¬¸ ë°–ì—ì„œ ì •ì˜í•¨)ì™€ ë¶€ìƒì„±ì(secondary constructor; í´ë˜ìŠ¤ ë³¸ë¬¸ ì•ˆì—ì„œ ì •ì˜í•¨)ë¥¼ êµ¬ë¶„í•˜ë©°, ì´ˆê¸°í™” ë¸”ë¡(initializer block)ì„ í†µí•´ ì´ˆê¸°í™” ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

### í´ë˜ìŠ¤ ì´ˆê¸°í™” : ì£¼ ìƒì„±ìì™€ ì´ˆê¸°í™” ë¸”ë¡

ì£¼ ìƒì„±ì(primary constructor)ëŠ” ë‘ ê°€ì§€ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

1. ìƒì„±ì íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •
2. ìƒì„±ì íŒŒë¼ë¯¸í„°ì— ì˜í•´ ì´ˆê¸°í™”ë˜ëŠ” í”„ë¡œí¼í‹° ì •ì˜

```kotlin  
class User constructor(_nickname: String) {  
val nickname: String  
init {  
nickname = _nickname  
}  
}  
```  

ìœ„ ì½”ë“œì— ë“±ì¥í•˜ëŠ” í‚¤ì›Œë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- constructor : ì£¼ ìƒì„±ìë‚˜ ë¶€ ìƒì„±ì ì •ì˜ë¥¼ ì‹œì‘í•  ë•Œ ì‚¬ìš©
- ì• ë…¸í…Œì´ì…˜ì´ë‚˜ ê°€ì‹œì„± ë³€ê²½ìê°€ ì—†ë‹¤ë©´ ìƒëµ ê°€ëŠ¥
- init : ì´ˆê¸°í™” ë¸”ë¡; í´ë˜ìŠ¤ì˜ ê°ì²´ê°€ ë§Œë“¤ì–´ì§ˆ ë•Œ(ì¸ìŠ¤í„´ìŠ¤í™”ë  ë•Œ) ì‹¤í–‰
- ì£¼ ìƒì„±ìì™€ í•¨ê»˜ ì‚¬ìš©
- í•„ìš”ì— ë”°ë¼ ì—¬ëŸ¬ ì´ˆê¸°í™” ë¸”ë¡ì„ ì„ ì–¸ ê°€ëŠ¥

ìœ„ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ê¹”ë”í•˜ê²Œ ë§Œë“¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```kotlin  
class User constructor(_nickname: String) {  
val nickname: String = _nickname  
}  
```  

```kotlin  
class User (val nickname: String)  
```  

ìœ„ì™€ ê°™ì´ ìƒì„±ì íŒŒë¼ë¯¸í„°ì— valì„ ë„£ì–´ì¤„ ê²½ìš° ê·¸ì— ìƒì‘í•˜ëŠ” í”„ë¡œí¼í‹°ê°€ ìƒì„±ëœë‹¤.  
ë˜í•œ, í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒì„±ì íŒŒë¼ë¯¸í„°ì—ë„ ë””í´íŠ¸ ê°’ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```kotlin  
class User (val nickname: String, val isSubscribed: Boolean = false)  
```  

í´ë˜ìŠ¤ì— ê¸°ë°˜ í´ë˜ìŠ¤ê°€ ìˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤.

```kotlin  
open class User (val nickname: String)  
  
class TwitterUser(nickname: String) : User(nickname)  
```  

ë§Œì•½ ê¸°ë°˜ í´ë˜ìŠ¤ì— ìƒì„±ìê°€ ì—†ì„ ê²½ìš° ìë°”ì™€ ë™ì¼í•˜ê²Œ ì»´íŒŒì¼ëŸ¬ê°€ ë¹„ì–´ìˆëŠ” ë””í´íŠ¸ ìƒì„±ìë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.

```kotlin  
open class User  
class TwitterUser(nickname: String) : User()  
```  

> í´ë˜ìŠ¤ì˜ ê²½ìš° ìƒì„±ìê°€ ìˆì–´ ê¸°ë°˜ í´ë˜ìŠ¤ ì´ë¦„ ë’¤ì— ì†Œê´„í˜¸ê°€ ë¶™ì§€ë§Œ,  
> ì¸í„°í˜ì´ìŠ¤ì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì†Œê´„í˜¸ê°€ ë¶™ì§€ ì•ŠëŠ”ë‹¤.

ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ì™¸ë¶€ì—ì„œ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ì§€ ëª»í•˜ê²Œ ë§‰ê³  ì‹¶ë‹¤ë©´ ìƒì„±ìë¥¼ privateìœ¼ë¡œ ë§Œë“¤ë©´ ëœë‹¤.

```kotlin  
class Secretive private constructor() {}  
```  

ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´, ì™¸ë¶€ì—ì„œ `Secretive`ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ì§€ ëª»í•˜ê²Œ ë˜ì–´ ì‹±ê¸€í†¤ í´ë˜ìŠ¤ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.

### ë¶€ ìƒì„±ì : ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì´ˆê¸°í™”

ì•„ë˜ ì½”ë“œëŠ” ì£¼ ìƒì„±ìë¥¼ ì„ ì–¸í•˜ì§€ ì•Šê³ , ë¶€ ìƒì„±ìë§Œ ì„ ì–¸í–‡ë‹¤.

```kotlin  
open class View {  
constructor(ctx: Context)  
constructor(ctx: Context, attr: AttributeSet)  
}  
```  

ìœ„ í´ë˜ìŠ¤ì˜ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” `View`ì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ `super`ë¡œ ìƒìœ„ í´ë˜ìŠ¤ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.  
ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ìƒì„±ìê°€ ìƒìœ„ í´ë˜ìŠ¤ ìƒì„±ìì—ê²Œ ê°ì²´ ìƒì„±ì„ ìœ„ì„í•  ìˆ˜ ìˆë‹¤.

```kotlin  
class MyButton : View {  
constructor(ctx: Context) : super(ctx)  
constructor(ctx: Context, attr: AttributeSet) : super(ctx, attr)  
}  
```  

`super`ê°€ ì•„ë‹Œ `this`ë¥¼ ì‚¬ìš©í•´ì„œ ìì‹ ì˜ ë‹¤ë¥¸ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ìˆ˜ë„ ìˆë‹¤.

```kotlin  
class MyButton : View {  
constructor(ctx: Context) : this(ctx, MY_STYLE)  
constructor(ctx: Context, attr: AttributeSet) : super(ctx, attr)  
}  
```  

### ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ëœ í”„ë¡œí¼í‹° êµ¬í˜„

ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì¶”ìƒ í”„ë¡œí¼í‹°ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.  
í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ì—ì„œ `nickname` í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, ë¨¼ì € ì´ˆê¸°í™”ë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤.

```kotlin  
interface Member {  
val nickname: String  
}  
```  

ì²« ë²ˆì§¸ ë°©ì‹ì€ ì£¼ ìƒì„±ìë¥¼ í†µí•´ í”„ë¡œí¼í‹°ë¥¼ ë°”ë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì´ë‹¤.  
ì´ëŸ¬í•œ ë°©ì‹ì„ ì‚¬ìš©í•  ê²½ìš° `PrivateMember` ê°ì²´ë¥¼ ìƒì„±í•¨ê³¼ ë™ì‹œì— `nickname`ì— ëŒ€í•œ ê°’ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆë‹¤.

```kotlin  
class PrivateMember(override val nickname: String) : Member  
```  

ë‘ ë²ˆì§¸ ë°©ì‹ì€ ì»¤ìŠ¤í…€ ê²Œí„°ë¥¼ ì‚¬ìš©í•´ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í–ˆë‹¤.  
Backing fieldì— ê°’ì„ ì €ì¥í•˜ì§€ ì•Šê³ , ë§¤ë²ˆ ì´ë©”ì¼ ì£¼ì†Œì—ì„œ ë³„ëª…ì„ ê³„ì‚°í•´ ë°˜í™˜í•˜ëŠ” ë°©ì‹ì´ë‹¤.

```kotlin  
class SubscribingMember(val email: String) : Member {  
override val nickname: String  
get() = email.substringBefore('@')  
}  
```  

ë§ˆì§€ë§‰ ë°©ì‹ì€ í•¨ìˆ˜ë¥¼ í†µí•´ `nickname`ì„ ì´ˆê¸°í™”í•˜ëŠ” ë°©ì‹ì´ë‹¤.

> `getFacebookName`ì€ í˜ì´ìŠ¤ë¶ì— ì ‘ì†í•´ì„œ ì¸ì¦ì„ ê±°ì¹œ í›„ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¹„ìš©ì´  
> ë§ì´ ë“¤ ìˆ˜ë„ ìˆë‹¤. ê·¸ë˜ì„œ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë‹¨ê³„ì— í•œ ë²ˆë§Œ `getFacebookName`ì„ í˜¸ì¶œí•˜ê²Œ ì„¤ê³„í–ˆë‹¤.

```kotlin  
class FacebookMember(val accountId: Int) : Member {  
override val nickname: String = getFacebookName(accountId)  
}  
```  

### ê²Œí„°ì™€ ì„¸í„°ì—ì„œ ë’·ë°›ì¹¨í•˜ëŠ” í•„ë“œì— ì ‘ê·¼

ì•ì„œ ë³¸ ê²ƒê³¼ ê°™ì´ í”„ë¡œí¼í‹°ì—ëŠ” ê°’ì„ ì €ì¥í•˜ëŠ” í”„ë¡œí¼í‹°ì™€ ì»¤ìŠ¤í…€ ì ‘ê·¼ìë¥¼ í†µí•´ ë§¤ë²ˆ ê°’ì„ ê³„ì‚°í•˜ëŠ” í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•œë‹¤.  
ì•„ë˜ ì½”ë“œëŠ” ë‘ ìœ í˜•ì„ ì¡°í•©í•œ ì½”ë“œì´ë‹¤.

```kotlin  
class User(val name: String) {  
var address: String = "unspecified"  
set(value: String) {  
println("""  
Address was changed for $name:  
"$field" -> "$value"  
""".trimIndent())  
field = value  
}  
}  
```  

ìœ„ ì½”ë“œì—ì„œ `field`ëŠ” ë’·ë°›ì¹¨í•˜ëŠ” í•„ë“œ(Backing field)ë¼ê³  ë¶€ë¥¸ë‹¤.

```kotlin  
fun main() {  
val user = User("Alice")  
user.address = "Elsenheimerstrasse 47, 80687 Muenchen"  
}  
```  

`address`ì— ê°’ì„ ëŒ€ì…í•˜ê²Œ ë  ê²½ìš° `setter`ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ëŠ”ë°,  
ë§Œì•½ User í´ë˜ìŠ¤ì˜ `field = value` ë¶€ë¶„ì„ `address = value`ë¡œ ë³€ê²½í•  ê²½ìš° ê³„ì†í•´ì„œ setterë¥¼ í˜¸ì¶œí•´ ë¬´í•œ ìˆœí™˜ ì°¸ì¡°ê°€ ì¼ì–´ë‚˜ê²Œ ëœë‹¤.

### ì»¤ìŠ¤í…€ ì ‘ê·¼ìì˜ ê°€ì‹œì„± ë³€ê²½

Java Springì—ì„œ ê°œë°œì„ í•  ë•Œ, ê¸ˆê¸° ì‹œ ë˜ëŠ” ê²ƒ ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ Entity classì—ì„œ Setterë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.  
ì´ëŠ” ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ì ‘ê·¼í•´ ì˜ëª» ìˆ˜ì •ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.  
í•˜ì§€ë§Œ ì½”í‹€ë¦°ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Setterê°€ ì—†ì–´ë„ `field = value`ë¥¼ í†µí•´ ê°’ì„ ëŒ€ì…í•  ìˆ˜ ìˆë‹¤.  
ì´ë¥¼ ë§‰ê¸° ìœ„í•´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ setì˜ ê°€ì‹œì„±ì„ ì œí•œí•  ìˆ˜ ìˆë‹¤.

```kotlin  
class LengthCounter {  
var counter: Int = 0  
private set  
  
fun addWord(word: String) {  
counter += word.length  
}  
}  
```  

```kotlin  
fun main() {  
val cnt = LengthCounter()  
// ì—ëŸ¬ ë°œìƒ : cannot assign to 'counter': the setter is private in 'LengthCounter'cnt.counter = 10  
}  
```  



## 3. ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ ë©”ì†Œë“œ : ë°ì´í„° í´ë˜ìŠ¤ì™€ í´ë˜ìŠ¤ ìœ„ì„

ìë°” í”Œë«í¼ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ equals, hashCode, toString ë“±ì˜ ë©”ì†Œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼ ê°ì²´ê°„ì˜ ë™ë“±ì„±ì„ ì‰½ê²Œ ë¹„êµí•  ìˆ˜ ìˆê²Œ ëœë‹¤.  
í•˜ì§€ë§Œ ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” ì´ëŸ° ë©”ì†Œë“œë¥¼ ë³´ì´ì§€ ì•ŠëŠ” ê³³ì—ì„œ ìƒì„±í•´ì¤€ë‹¤.

### ëª¨ë“  í´ë˜ìŠ¤ê°€ ì •ì˜í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œ

ìë°”ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì½”í‹€ë¦°ì—ì„œë„ equals, hashCode, toStringë¥¼ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆë‹¤.

```kotlin  
class Client(val name: String, val postalCode: Int)  
```  

ìœ„ í´ë˜ìŠ¤ì— ëŒ€í•œ ê°ì²´ë¥¼ ì¶œë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

```  
package.Client@6e2c634b  
```  

ì´ëŸ¬í•œ ì •ë³´ëŠ” ì‚¬ìš©í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ê°€ ê°–ê³  ìˆëŠ” ì •ë³´ë“¤ì„ ì¶œë ¥í•´ì£¼ë„ë¡ ì¬êµ¬í˜„í•´ì•¼í•œë‹¤.

```  
class Client(val name: String, val postalCode: Int) {  
override fun toString() = "Client(name=$name, postalCode=$postalCode)"  
}  
```  

ìœ„ì™€ ê°™ì´ Any í´ë˜ìŠ¤ì— ìˆëŠ” `toString`ì„ ì˜¤ë²„ë¼ì´ë”©í•´ ì¬êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

#### ê°ì²´ì˜ ë™ë“±ì„± : equals()

ì•„ë˜ ë‘ ê°ì²´ëŠ” ì£¼ì†Œê°’ì€ ë‹¤ë¥´ì§€ë§Œ, ì™„ì „íˆ ë™ì¼í•œ ê°’ì„ ë‹´ê³  ìˆëŠ” ê°ì²´ì´ë‹¤.

```kotlin  
fun main() {  
val client1 = Client("Alice", 4122)  
val client2 = Client("Alice", 4122)  
// ì¶œë ¥ : falseprintln(client1 == client2)  
}  
```  

> ìë°”ì—ì„œ == ì—°ì‚°ì€ ì›ì‹œ íƒ€ì…ê³¼ ì°¸ì¡° íƒ€ì…ì˜ ì£¼ì†Œê°’ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í•œë‹¤.  
> ì½”í‹€ë¦°ì—ì„œì˜ == ì—°ì‚°ì€ ë‚´ë¶€ì ìœ¼ë¡œ equalsë¥¼ í˜¸ì¶œí•´ ê°ì²´ë¥¼ ë¹„êµí•˜ê¸° ë•Œë¬¸ì— equalsë¥¼ ì˜¤ë²„ë¼ì´ë“œë¥¼ í•˜ë©´ ==ì„ í†µí•´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¹„êµí•  ìˆ˜ ìˆë‹¤.  
> ë˜í•œ, ===ì„ ì‚¬ìš©í•˜ë©´ ìë°”ì˜ == ì—°ì‚°ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì¶œë ¥ ê²°ê³¼ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ `false`ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
í•˜ì§€ë§Œ ìš”êµ¬ ì‚¬í•­ì— ë”°ë¼ ì„œë¡œ ë‹¤ë¥¸ ë‘ ê°ì²´ê°€ ë‚´ë¶€ì— ë™ì¼í•œ ë°ì´í„°ë¥¼ í¬í•¨í•  ê²½ìš° ê·¸ ë‘˜ì„ ë™ë“±í•œ ê°ì²´ë¡œ ê°„ì£¼í•´ì•¼í•  ë•Œê°€ ìˆë‹¤.

```kotlin  
class Client(val name: String, val postalCode: Int) {  
override fun equals(other: Any?): Boolean {  
// isëŠ” ìë°”ì˜ instanceof ì—°ì‚°ìì™€ ê°™ë‹¤.  
if(other == null || other !is Client) return false  
// ìœ„ì—ì„œ Clientì— ëŒ€í•œ ê°ì²´ì¸ì§€ ê²€ì‚¬ë¥¼ í–ˆê¸° ë•Œë¬¸ì— ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŒ…ì´ ëœë‹¤.  
return name == other.name && postalCode == other.postalCode  
}  
}  
```  

ì½”í‹€ë¦°ì—ì„œëŠ” `override` ë³€ê²½ìê°€ í•„ìˆ˜ì´ê¸° ë•Œë¬¸ì— `other:Any?`ë¥¼ `other:Client`ë¡œ ì‘ì„±í•  ìˆ˜ ì—†ë‹¤.  
ë•Œë¬¸ì— í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ê³  ë‚˜ë©´ í”„ë¡œí¼í‹°ì˜ ê°’ì´ ëª¨ë‘ ê°™ì€ ë‘ ê³ ê° ê°ì²´ëŠ” ë™ë“±í•˜ë¦¬ë¼ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤.

#### í•´ì‹œ ì»¨í…Œì´ë„ˆ : hashCode()

`equals`ë¥¼ ì¬ì •ì˜í•  ë•Œ, `hashCode`ë„ í•¨ê»˜ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼ í•œë‹¤. ê·¸ ì´ìœ ëŠ” ë‹¤ìŒ ì½”ë“œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤.

```kotlin  
fun main() {  
val processed = hashSetOf(Client("Alice", 4122))  
// ì¶œë ¥ : falseprintln(processed.contains(Client("Alice", 4122)))  
}  
```  

ì´ë¦„ì´ Aliceì¸ í´ë¼ì´ì–¸íŠ¸ë¥¼ ìƒì„±í•´ `HashSet`ì— ë„£ì–´ì£¼ì—ˆê³ , í•´ë‹¹ `Set`ì— ë™ì¼í•œ í´ë¼ì´ì–¸íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•´ í¬í•¨ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•´ë³´ë©´ `false`ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
`toString` ì˜¤ë²„ë¼ì´ë“œë¥¼ í•˜ì§€ ì•Šì€ ìƒíƒœë¡œ ë‘ ê°ì²´ë¥¼ ì¶œë ¥í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ í•´ì‹œê°’ì„ ê°€ì§€ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

```  
package.Client@37a71e93  
package.Client@6e2c634b  
```  

ì¦‰, ë‘ ê°ì²´ì˜ ì„œë¡œ ë‹¤ë¥¸ í•´ì‹œê°’ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— `HashSet`ì—ì„œ ë™ì¼í•œ ê°ì²´ë¡œ íŒë³„í•˜ì§€ ì•Šê³ , `equals` ë˜í•œ íŒë‹¨ ê²°ê³¼ì— ì˜í–¥ì„ ë¼ì¹˜ì§€ ëª»í•œë‹¤.  
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ í´ë˜ìŠ¤ ë‚´ì— `hashCode` í•¨ìˆ˜ë¥¼ ì¬ì •ì˜ í•´ì£¼ì–´ì•¼ í•œë‹¤.

```kotlin  
class Client(val name: String, val postalCode: Int) {  
	override fun hashCode(): Int = name.hashCode() * 31 + postalCode  
	...  
}  
```  

`hashCode`ë¥¼ ì •ì˜í•˜ëŠ” ê·œì•½ì€ [ë§í¬](https://github.com/Jwhyee/effective-java-study/blob/574ad6188fa07f6957ebd43281fc1bcfc04cd8e8/src/main/java/ka/chapter3/item11/item11.md#hashcode%EC%9D%98-%EC%9D%BC%EB%B0%98-%EA%B7%9C%EC%95%BD)ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### ë°ì´í„° í´ë˜ìŠ¤ : ëª¨ë“  í´ë˜ìŠ¤ê°€ ì •ì˜í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œ ìë™ ìƒì„±

ì–´ë–¤ í´ë˜ìŠ¤ê°€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì—­í• ë§Œì„ ìˆ˜í–‰í•œë‹¤ë©´ `toString`, `equals`, `hashCode`ë¥¼ ë°˜ë“œì‹œ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼ í•œë‹¤.  
ì½”í‹€ë¦°ì—ëŠ” `data`ë¼ëŠ” ë³€ê²½ìë¥¼ í´ë˜ìŠ¤ ì•ì— ë¶™ì´ë©´ ìœ„ ë©”ì†Œë“œë“¤ì„ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.

```kotlin  
data class Client(val name: String, val postalCode: Int)  
```  

ìœ„ ì½”ë“œë¥¼ ìë°” ì½”ë“œë¡œ ë””ì»´íŒŒì¼ í•´ë³´ë©´ final classë¡œ ë˜ì–´ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
ì¦‰, data classëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì—­í• ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë¯€ë¡œ, ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìƒì†í•  ìˆ˜ ì—†ë‹¤.

#### ë°ì´í„° í´ë˜ìŠ¤ì™€ ë¶ˆë³€ì„± : copy()

ì•ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ data classëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ê¸°ì— ê°€ëŠ¥í•œ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ì½ê¸° ì „ìš©(read only)ìœ¼ë¡œ ë§Œë“¤ì–´ ë¶ˆë³€(immutable) í´ë˜ìŠ¤ë¡œ ë§Œë“¤ë¼ê³  ê¶Œì¥í•œë‹¤.

ê°’ì„ ìˆ˜ì •í•´ì•¼í•  ê²½ìš°ì—ëŠ” ê°ì²´ë¥¼ ë³µì‚¬(copy)í•´ ì›ë³¸ê³¼ ë‹¤ë¥¸ ìƒëª…ì£¼ê¸°ë¥¼ ê°€ì§€ê²Œ í•  ìˆ˜ ìˆë‹¤.  
ë³µì‚¬ë³¸ì„ ì œê±°í•´ë„ í”„ë¡œê·¸ë¨ì—ì„œ ì›ë³¸ì„ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ ë¶€ë¶„ì— ì „í˜€ ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

```kotlin  
// ë°ì´í„° í´ë˜ìŠ¤ì¼ ê²½ìš°  
data class Client(val name: String, val postalCode: Int)  
  
// ì¼ë°˜ í´ë˜ìŠ¤ì¼ ê²½ìš°  
class Client(val name: String, val postalCode: Int) {  
fun copy(name: String = this.name, postalCode: Int = this.postalCode) = Client(name, postalCode)  
}  
  
fun main() {  
val origin = Client("Alice", 4122)  
val copy = origin.copy("Alice", 4222)  
}  
```  

### í´ë˜ìŠ¤ ìœ„ì„ : by í‚¤ì›Œë“œ ì‚¬ìš©

ìƒì†ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ì— ìƒˆë¡œìš´ ë™ì‘ì„ ì¶”ê°€í•´ì•¼í•  ë•Œ, ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.

> ë°ì½”ë ˆì´í„° íŒ¨í„´ì´ë€, ìƒì†ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤(ë°ì½”ë ˆì´í„°)ë¥¼ ë§Œë“¤ë˜ ê¸°ì¡´ í´ë˜ìŠ¤ì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°ì½”ë ˆì´í„°ê°€ ì œê³µí•˜ê²Œ ë§Œë“¤ê³ , ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ë°ì½”ë ˆì´í„° ë‚´ë¶€ì— í•„ë“œë¡œ ìœ ì§€í•˜ëŠ” ê²ƒ  
> ì´ë•Œ ìƒˆë¡œ ì •ì˜í•´ì•¼í•˜ëŠ” ê¸°ëŠ¥ì€ ë°ì½”ë ˆì´í„°ì˜ ë©”ì†Œë“œì— ìƒˆë¡œ ì •ì˜í•˜ê³ , ê¸°ì¡´ ê¸°ëŠ¥ì´ ê·¸ëŒ€ë¡œ í•„ìš”í•œ ë¶€ë¶„ì€ ë°ì½”ë ˆì´í„°ì˜ ë©”ì†Œë“œê°€ ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œì—ê²Œ ìš”ì²­ì„ ì „ë‹¬í•œë‹¤.

ì´ëŸ¬í•œ ì„¤ê³„ì˜ ë‹¨ì ì€ ì•„ë˜ì™€ ê°™ì´ ë³µì¡í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•˜ëŠ” ê²ƒì´ë‹¤.

```kotlin  
class DelegatingCollection<T> : Collection<T> {  
private val innerList = arrayListOf<T>()  
override val size: Int get () = innerList.size  
override fun isEnpty(): Boolean = innerList.isEmpty()  
override fun contains (element: T) : Boolean = innerList.contains (eä¸„ement) override fun iterator () : Iterator<T> = innerList. iterator ()  
override fun containsAll(elements: Collection<T>): Boolean = innerList.containsAll(elements)  
}  
```  

ì´ëŸ° ìœ„ì„ì„ ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ì¼ê¸‰ ì‹œë¯¼ ê¸°ëŠ¥ìœ¼ë¡œ ì§€ì›í•œë‹¤ëŠ” ì ì´ ì½”í‹€ë¦°ì˜ ì¥ì ì´ë‹¤.  
ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•  ë•Œ, `by` í‚¤ì›Œë“œë¥¼ í†µí•´ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ êµ¬í˜„ì„ ë‹¤ë¥¸ ê°ì²´ì— ìœ„ì„ ì¤‘ì´ë¼ëŠ” ì‚¬ì‹¤ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.

```kotlin  
class DelegatingCollection<T>(  
innerList: Collection<T> = ArrayList<T>()  
) : Collection<T> by innerList {}  
```  

êµ¬í˜„ì˜ ì¼ë¶€ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì„ ê²½ìš° ìœ„ì—ì„œ ë³¸ `override`ë¥¼ ì‚¬ìš©í•´ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì¬êµ¬í˜„í•˜ë©´ ëœë‹¤.

```kotlin  
class CountingSet<T>(  
innerSet: MutableCollection<T> = HashSet<T>()  
) : MutableCollection<T> by innerSet {  
var objectsAdded = 0  
override fun add (element: T): Boolean {  
objectsAdded++  
return innerSet.add(element)  
}  
override fun addAll(c: Collection<T>): Boolean {  
objectsAdded += c . size  
return innerSet.addAll(c)  
}  
}  
```  

## 4. object í‚¤ì›Œë“œ : í´ë˜ìŠ¤ ì„ ì–¸ê³¼ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

`object` í‚¤ì›Œë“œëŠ” ì•„ë˜ ë‘ ìƒí™©ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

- ê°ì²´ ì„ ì–¸(object declaration)
- ì‹±ê¸€í†¤ ì •ì˜
- ë™ë°˜ ê°ì²´(companion object)
- ì¸ìŠ¤í„´ìŠ¤ ë©”ì†Œë“œëŠ” ì•„ë‹ˆì§€ë§Œ, ì–´ë–¤ í´ë˜ìŠ¤ì™€ ê´€ë ¨ ìˆëŠ” ë©”ì†Œë“œì™€ íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ë‹´ì„ ë•Œ ì‚¬ìš©
- ë™ë°˜ ê°ì²´ê°€ í¬í•¨ëœ í´ë˜ìŠ¤ì˜ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ê°ì²´ ì‹
- ìë°”ì˜ ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤(anonymous inner class) ëŒ€ì‹  ì‚¬ìš©

### ê°ì²´ ì„ ì–¸ : ì‹±ê¸€í†¤ì„ ì‰½ê²Œ ë§Œë“¤ê¸°

ì½”í‹€ë¦°ì€ ê°ì²´ ì„ ì–¸ ê¸°ëŠ¥ì„ í†µí•´ ì‹±ê¸€í†¤ì„ ì–¸ì–´ì—ì„œ ê¸°ë³¸ ì§€ì›í•œë‹¤.

```kotlin  
object Payroll {  
val allEmployees = arrayListOf<Person>()  
fun calculateSalary() {  
for (person in allEmployees) {  
println(person.name)  
}  
}  
}  
```  

ê°ì²´ ì„ ì–¸ì€ `object` í‚¤ì›Œë“œë¡œ ì‹œì‘í•œë‹¤.  
ì´ëŠ” í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ê·¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ëª¨ë“  ì‘ì—…ì„ ë‹¨ í•œ ë¬¸ì¥ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.

`Comparator`ëŠ” ë‘ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ ê·¸ ì¤‘ ì–´ëŠ ê°ì²´ê°€ ë” í°ì§€ ì•Œë ¤ì£¼ëŠ” ì •ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.  
í•´ë‹¹ êµ¬í˜„ì€ ë³´í†µ í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¨ í•˜ë‚˜ì”©ë§Œ ìˆìœ¼ë©´ ë˜ë¯€ë¡œ, ê°ì²´ ì„ ì–¸ì´ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì´ë‹¤.

```kotlin  
object CaseInsensitiveFileComparator : Comparator<File> {  
override fun compare(o1: File, o2: File): Int {  
return o1.path.compareTo(o2.path, ignoreCase = true)  
}  
}  
```  

ì¼ë°˜ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³³ì—ì„œëŠ” í•­ìƒ ì‹±ê¸€í„´ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ë™ë°˜ ê°ì²´ : íŒ©í† ë¦¬ ë©”ì†Œë“œì™€ ì •ì  ë©¤ë²„ê°€ ë“¤ì–´ê°ˆ ì¥ì†Œ

ì½”í‹€ë¦° ì–¸ì–´ëŠ” ìë°” `static` í‚¤ì›Œë“œë¥¼ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì •ì  ë©¤ë²„ê°€ ì—†ë‹¤.  
ëŒ€ì‹ , ì½”í‹€ë¦°ì—ì„œëŠ” ì •ì  ë©”ì†Œë“œ ì—­í• ì„ ëŒ€ì‹ í•´ íŒ¨í‚¤ì§€ ìˆ˜ì¤€ì˜ ìµœìƒìœ„ í•¨ìˆ˜ì™€ ê°ì²´ ì„ ì–¸ì„ ì‚¬ìš©í•œë‹¤.

í´ë˜ìŠ¤ ë‚´ë¶€ ê°ì²´ ì¤‘ `companion`ì„ ë¶™ì´ë©´ í´ë˜ìŠ¤ì˜ ë™ë°˜ ê°ì²´ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```kotlin  
class Foo {  
private fun foo() {}  
  
object Inner {  
fun fooPrint() {  
println("Fooh")  
}  
}  
}  
  
fun main() {  
Foo.Inner.fooPrint()  
}  
```  

ì›ë˜ëŠ” ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ë‚´ë¶€ objectë¥¼ ë¶ˆëŸ¬ì™€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í˜•íƒœì˜€ë‹¤.  
í•˜ì§€ë§Œ `companion`ì„ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” ìë°”ì˜ ì •ì  í•¨ìˆ˜ ë° í•„ë“œì²˜ëŸ¼ ë°”ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ëœë‹¤.

```kotlin  
class Foo {  
private fun foo() {}  
  
companion object {  
fun fooPrint() {  
println("Fooh")  
}  
}  
}  
  
fun main() {  
Foo.fooPrint()  
}  
```  

ì´ëŸ¬í•œ ë™ë°˜ ê°ì²´ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ë§Œë“œëŠ”ë° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤.

```kotlin  
class User {  
val nickname: String  
  
constructor(email: String) {  
nickname = email.substringBefore('@')  
}  
  
constructor(facebookAccountId: Int) {  
nickname = getFacebookName(facebookAccountId)  
}  
  
}  
```  

```kotlin  
class User private constructor(val nickname: String) {  
companion object {  
fun newSubscribingUser(email: String) = User(email.substringBefore('@'))  
fun newFacebookUser(accountId: Int) = User(getFacebookName(accountId))  
}  
}  
```  

ì²« ì½”ë“œëŠ” ìƒì„±ìë¥¼ í†µí•´ ìœ ì €ë¥¼ ë§Œë“¤ì–´ëƒˆì§€ë§Œ, ë‘ ë²ˆì§¸ ì½”ë“œëŠ” ìƒì„±ìë¥¼ privateë¡œ ë§Œë“¤ì–´ ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ í•˜ì˜€ê³ ,  
ë™ë°˜ ê°ì²´ë¥¼ í†µí•´ ì•Œì•„ì„œ ìœ ì € ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” íŒ©í† ë¦¬ íŒ¨í„´ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.

ì´ëŸ° íŒ¨í„´ì˜ ì¥ì ì€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì „ë‹¬ ë°›ìœ¼ë©´ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê³ ,  
ìºì‹œì— ìˆëŠ” ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê²Œ ì¶”ê°€ êµ¬í˜„ì„ í•  ìˆ˜ ìˆë‹¤.
