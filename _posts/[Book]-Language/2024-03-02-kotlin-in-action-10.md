---
title: "[Chapter10] - μ• λ…Έν…μ΄μ…κ³Ό λ¦¬ν”λ ‰μ…"
last_modified_at: 2024-03-02T22:10:37-23:30
categories: "[Book]-Language"
tags:
   - Kotlin in action
   - Kotlin
toc: true
toc_sticky: true
toc_label: "Chapter10"
toc_icon: "file"
---

**μ½”ν‹€λ¦° μΈ μ•΅μ…**λ¥Ό κ³µλ¶€ν•λ©° μ‘μ„±ν• κΈ€μ…λ‹λ‹¤.<br>
νΌμ κ³µλ¶€ν•κ³  μ •λ¦¬ν• λ‚΄μ©μ΄λ©°, ν‹€λ¦° λ¶€λ¶„μ€ μ§€μ ν•΄μ£Όμ‹λ©΄ κ°μ‚¬λ“λ¦¬κ² μµλ‹λ‹¤ π€
{: .notice--info}

## 1. μ• λ…Έν…μ΄μ… μ„ μ–Έκ³Ό μ μ©

μ¤ν”„λ§κ³Ό κ°™μ€ ν”„λ μ„μ›ν¬λ§ λ΄λ„ μ• λ…Έν…μ΄μ…μ„ λ§μ΄ μ‚¬μ©ν•λ‹¤. μ½”ν‹€λ¦° μ• λ…Έν…μ΄μ…λ„ μλ°”μ™€ κ°λ…μ€ λ™μΌν•λ‹¤. λ©”νƒ€ λ°μ΄ν„° μ„ μ–Έμ— μ¶”κ°€ν•λ©΄, μ• λ…Έν…μ΄μ…μ„ μ²λ¦¬ν•λ” λ„κµ¬κ°€ μ»΄νμΌ μ‹μ  νΉμ€ λ°νƒ€μ„ μ‹μ μ— μ μ ν• μ²λ¦¬λ¥Ό ν•΄μ¤€λ‹¤.

### 1-1. μ• λ…Έν…μ΄μ… μ μ©

ν…μ¤νΈ λΌμ΄λΈλ¬λ¦¬μΈ JUnitμ„ λ³΄λ©΄, ν…μ¤νΈ λ©”μ†λ“ μ•μ— `@Test`λ¥Ό λ¶™μ—¬ μ‚¬μ©ν•λ‹¤.

```kotlin
class JunitTest {  
    @Test fun testTrue() {  
        Assert.assertTrue(true)  
    }  
}
```

μ΄μ²λΌ μλ°”μ™€ λ™μΌν• λ°©λ²•μΌλ΅ μ‚¬μ©ν•λ©°, ν•¨μλ‚ ν΄λμ¤ λ“± μ—¬λ¬ λ‹¤λ¥Έ μ½”λ“ κµ¬μ„± μ”μ†μ— λ¶™μ—¬ μ‚¬μ©ν•  μ μλ‹¤. λ‹¤λ¥Έ μμ‹λ΅, `@Deprecated`λ¥Ό μ‚΄ν΄λ³΄μ.

`Deprecated` μ• λ…Έν…μ΄μ…μ€ μλ°”μ™€ λ™μΌν• μλ―Έλ¥Ό κ°–κ³  μμΌλ©°, λ³΄ν†µ μ§€μ›μ΄ μΆ…λ£λμ–΄, λ‹¤λ¥Έ μƒ λ²„μ „μ„ μ‚¬μ©ν•λ„λ΅ μ λ„ν•κ±°λ‚, ν•΄λ‹Ή κΈ°λ¥μ„ μ‚¬μ©ν•μ§€ λ§λΌλ” μλ―Έλ΅ μ‚¬μ©λλ‹¤. μ°μ„  ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ·¨μ†μ„ μ΄ κ·Έμ–΄μ§„ κ²ƒμ„ λ³Ό μ μλ‹¤.

```kotlin
fun main(args: Array<String>) {  
    args[0][0].toInt()  
}
```

![[deprecated-image.png]]

ν•΄λ‹Ή ν•¨μλ¥Ό λ“¤μ–΄κ°€λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ •μλμ–΄μλ” κ²ƒμ„ λ³Ό μ μλ”λ°, μ‚¬μ© κΈμ§€λ¥Ό μ„¤λ…ν•λ” λ§¤μ‹μ§€μ™€ λ€μ²΄ν•  ν¨ν„΄, λ‡ λ²„μ „λ¶€ν„° μ‚¬μ©ν•μ§€ μ•κ² λμ—λ”μ§€ λ“±μ„ λ³Ό μ μλ‹¤.

```kotlin
@Deprecated("
   Conversion of Char to Number is deprecated. Use Char.code property instead.
", ReplaceWith("this.code"))  
@DeprecatedSinceKotlin(warningSince = "1.5")  
@kotlin.internal.IntrinsicConstEvaluation  
public fun toInt(): Int
```

`ReplaceWith`μ™€ κ°™μ΄ μ• λ…Έν…μ΄μ…μ— μΈμλ¥Ό λ„κΈΈ λ•λ” μΌλ° ν•¨μμ™€ λ§μ°¬κ°€μ§€λ΅ κ΄„νΈ μ•μ— μΈμλ¥Ό λ„£λ”λ‹¤. μ΄λ¥Ό μ‘μ„±ν•  κ²½μ°, μ„ μ‚¬μ§„μ— λ³΄μ΄λ” κ²ƒμ²λΌ `Replace with 'this.code()'`λΌλ” λ¬Έκµ¬κ°€ λ¨κ² λλ©°, μƒλ΅μ΄ API λ²„μ „μ— λ§λ” μ½”λ“λ΅ λ°”κΏ”μ¦λ” ν€µ ν”½μ¤(quick fix)λ„ μ μ‹ν•΄ μ¤€λ‹¤.

μ• λ…Έν…μ΄μ…μ μΈμλ΅λ” μ›μ‹ νƒ€μ…μ κ°’, λ¬Έμμ—΄, enum, ν΄λμ¤ μ°Έμ΅°, λ‹¤λ¥Έ μ• λ…Έν…μ΄μ… ν΄λμ¤ κ·Έλ¦¬κ³  μ΄μ— λ€ν• μ”μ†λ“¤λ΅ μ΄λ£¨μ–΄μ§„ λ°°μ—΄μ΄ λ“¤μ–΄κ° μ μλ‹¤.

- ν΄λμ¤λ¥Ό μΈμλ΅ μ§€μ •ν•  κ²½μ°
   - `@MyAnnotation(MyClass::class)`
- λ‹¤λ¥Έ μ• λ…Έν…μ΄μ…μ„ μΈμλ΅ μ§€μ •ν•  κ²½μ°
   - `@`λ¥Ό μ μ™Έν• ν΄λμ¤ μ΄λ¦„λ§ μ‘μ„±ν•λ‹¤.
   - `@MyAnnotation(MyAnnotation2(...))`
- λ°°μ—΄ μΈμλ¥Ό μ§€μ •ν•  κ²½μ°
   - `arrayOf` ν•¨μλ¥Ό μ‚¬μ©ν•΄ κ°’μ„ λ„£μ–΄μ¤€λ‹¤.
      - `@RequestMapping(path = arrayOf("/foo", "/bar"))`
   - μλ°”μ—μ„ μ„ μ–Έν• μ• λ…Έν…μ΄μ…μ΄ ν•„μ”ν•  κ²½μ° κ°€λ³€μΈμλ΅ λ„£μ–΄μ¤„ μ μλ‹¤.
      - `@JavaAnnotationWithArrayValue("abc", "foo", "bar")`

μ• λ…Έν…μ΄μ… μΈμλ” μ»΄νμΌ μ‹μ μ— μ• μ μμ–΄μ•Ό ν•λ©°, ν”„λ΅νΌν‹°λ¥Ό μΈμλ΅ μ‚¬μ©ν•  κ²½μ° `const` λ³€κ²½μκ°€ λ¶™μ€ μƒμ ν•„λ“λ§ μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤. λν•, ν•΄λ‹Ή ν”„λ΅νΌν‹°λ” `object` νΉμ€ νμΌμ μµμƒλ‹¨μ— μ„μΉν•΄μ•Ό ν•λ©°, κ·Έλ ‡μ§€ μ•μ„ κ²½μ° μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.

```kotlin
const val TEST_TIMEOUT = 100L
@Test(timeout = TEST_TIMEOUT) fun testMethod() { ... }
```

### 1-2. μ• λ…Έν…μ΄μ… λ€μƒ

μλ°”μ κ²½μ° ν•„λ“λ¥Ό μ„ μ–Έν•λ”λΌλ„, `getter`μ™€ `setter` ν•¨μλ¥Ό λ”°λ΅ λ§λ“¤μ–΄μ„ κ°’μ„ κ°€μ Έμ™€ μ‚¬μ©ν•κ² λλ‹¤. λ•λ¬Έμ— μ›ν•λ” ν•¨μμ— μ• λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ„ μ‚¬μ©ν•  μ μλ‹¤. ν•μ§€λ§ μ½”ν‹€λ¦°μ ν”„λ΅νΌν‹°λ” κΈ°λ³Έμ μΌλ΅ `getter`μ™€ `setter`λ¥Ό μ»΄νμΌλ¬κ°€ μλ™μΌλ΅ μƒμ„±ν•΄μ£ΌκΈ° λ•λ¬Έμ— μ–΄λ–¤ μ”μ†μ— μ• λ…Έν…μ΄μ…μ„ λ¶™μΌμ§€ ν‘μ‹ν•  ν•„μ”κ°€ μλ‹¤.

μ΄λ¥Ό μ‚¬μ© μ§€μ  λ€μƒ(user-site target) μ„ μ–Έμ΄λΌ λ¶€λ¥΄λ©°, μ• λ…Έν…μ΄μ…μ„ λ¶™μΌ μ”μ†λ¥Ό μ§€μ •ν• λ’¤, νΉμ • μ–΄λ…Έν…μ΄μ…μ μ΄λ¦„μ„ μ‘μ„±ν•λ©΄ λλ‹¤. μ•„λμ™€ κ°™μ΄ μ‘μ„±ν•  κ²½μ° `a`λΌλ” ν”„λ΅νΌν‹°μ— μ• λ…Έν…μ΄μ…μ΄ μ μ©λλ” κ²ƒμ΄ μ•„λ‹, `a` ν”„λ΅νΌν‹°μ `getter`μ— μ μ©λλ” κ²ƒμ΄λ‹¤.

```kotlin
private class TestClass(  
    @get: Rule(...)  
    val a: String = ""  
)
```

| λ€μƒ | μ„¤λ… |
| :--: | :--: |
| property | ν”„λ΅νΌν‹° μ „μ²΄, μλ°”μ—μ„ μ„ μ–Έλ μ• λ…Έν…μ΄μ…μ—λ” μ‚¬μ© λ¶κ°€ |
| field | ν”„λ΅νΌν‹°μ— μν•΄ μƒμ„±λλ” λ’·λ°›μΉ¨ν•λ” ν•„λ“ |
| get | ν”„λ΅νΌν‹° κ²ν„° |
| set | ν”„λ΅νΌν‹° μ„Έν„° |
| receiver | ν™•μ¥ ν•¨μ νΉμ€ ν”„λ΅νΌν‹°μ μμ‹  κ°μ²΄ νλΌλ―Έν„° |
| param | μƒμ„±μ νλΌλ―Έν„° |
| setparam | μ„Έν„° νλΌλ―Έν„° |
| delegate | μ„μ„ ν”„λ΅νΌν‹°μ μ„μ„ μΈμ¤ν„΄μ¤λ¥Ό λ‹΄μ•„λ‘” ν•„λ“ |
| file | νμΌ μ•μ— μ„ μ–Έλ μµμƒμ„ ν•¨μμ™€ ν”„λ΅νΌν‹°λ¥Ό λ‹΄μ•„λ‘λ” ν΄λμ¤  |

fileμ„ λ€μƒμΌλ΅ μ‚¬μ©ν•λ” μ• λ…Έν…μ΄μ…μ€ package μ„ μ–Έ μ•μ—μ„ νμΌμ μµμƒμ„ μμ¤€μ—λ§ μ μ©ν•  μ μλ‹¤. νμΌμ— ν”ν μ μ©ν•λ” μ• λ…Έν…μ΄μ…μΌλ΅λ” νμΌμ— μλ” μµμƒμ„ μ„ μ–Έμ„ λ‹΄λ” ν΄λμ¤μ μ΄λ¦„μ„ λ°”κΏ”μ£Όλ” `@JvmName`μ΄ μλ‹¤.

```kotlin
@file:JvmName("FooFunctions")  
  
package action.junyoung.chapter10.part1  
  
fun foo() {  
   println("foo")  
}
```

```java
public class KotlinAnnotationCallTest {  
	public static void main(String[] args) {  
		FooFunctions.foo();  
	}  
}
```

### 1-3. μ• λ…Έν…μ΄μ…μ„ ν™μ©ν• JSON μ§λ ¬ν™” μ μ–΄

ν”„λ΅ νΈμ—μ„ λ°±μ—”λ“λ΅ λ°μ΄ν„°λ¥Ό λ³΄λ‚΄μ¤„ λ• λ³΄ν†µ JSON ν•νƒλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³ , μ¤ν”„λ§μ—μ„λ” `@RequestBody`λ¥Ό ν†µν•΄ μ „λ‹¬ λ°›μ€ JSON λ°μ΄ν„°λ¥Ό κ·Έμ— ν•΄λ‹Ήν•λ” κ°μ²΄λ΅ μ—­μ§λ ¬ν™”λ¥Ό μ‹μΌ μ¤€λ‹¤.

```json
{
	"name" : "Alice",
	"age" : 29
}
```

```kotlin
fun foo(@ReqeustBody person: Person) {
   // μ¶λ ¥ : Alice : 29
   println("${person.name} : ${person.age}")
}
```

μ„μ²λΌ JSON λ°μ΄ν„°κ°€ κ°μ²΄λ΅ λ³€ν™ν•λ” κ²ƒμ„ μ—­μ§λ ¬ν™”, κ°μ²΄λ¥Ό JSON λ°μ΄ν„°λ΅ λ³€ν™ν•λ” κ²ƒμ„ μ§λ ¬ν™”λΌκ³  ν•λ‹¤. λ§μ•½ `Person` ν΄λμ¤μ `name` ν•„λ“κ°€ `_name`μΌλ΅ μ •μλμ–΄ μμ„ κ²½μ° JSON λ°μ΄ν„°μ ν‚¤ κ°’κ³Ό λ‹¬λΌ λ‹¤μκ³Ό κ°™μ€ μ—λ¬κ°€ λ°μƒν•λ‹¤.

```
Field error in object 'person' on field '_name': rejected value [null]
```

μ΄λ° κ²½μ°μ—λ” `Person` ν΄λμ¤λ¥Ό λ‹¤μκ³Ό κ°™μ΄ μ •μν•΄μ£Όλ©΄ λλ‹¤.

```kotlin
class Person(
	@JsonProperty("name")  
	private val _name: String?,
) {
	val name: String
		get() = _name!!
}

```

### 1-4. μ• λ…Έν…μ΄μ… μ„ μ–Έ

μλ°”μ κ²½μ° μ–΄λ…Έν…μ΄μ…μ„ μ •μν•  λ•, λ€λ¶€λ¶„ `value()`κ°€ λ“¤μ–΄κ°„λ‹¤.

```java
public @interface JsonName {
	String value();
}
```

λ§μ•½ μ„ μ–΄λ…Έν…μ΄μ…μ„ μ½”ν‹€λ¦°μ—μ„ μ‚¬μ©ν•  κ²½μ° λ‹¤μκ³Ό κ°™μ΄ μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤.

```kotlin
@JsonName("foooo")  
val foo = 10  
```

ν•μ§€λ§ μ–΄λ…Έν…μ΄μ…μ—μ„ λ°›λ” κ°’μ΄ 2κ° μ΄μƒμΌλ΅ λ„μ–΄κ° κ²½μ° `@JsonName("foooo", "foo")`μ²λΌ μ‘μ„±ν•  μ μ—†κ³ , μ–΄λ ν•„λ“μ— ν•΄λ‹Ήν•λ”μ§€ μ‘μ„±μ„ ν•΄μ¤μ•Ό ν•λ‹¤.

```java
public @interface JsonName {  
	String name();  
	String value();  
}
```

```kotlin  
@JsonName("Hello", name = "hello")  
val t = 10  
```

μ•„λ¬΄λ¦¬ `name()`μ„ λ¨Όμ € μ •μν–λ”λΌλ„, `value()`μ— λ€ν• κ°’μ€ μ΄λ¦„μ„ λ…μ‹ν•μ§€ μ•μ•„λ„ λ“¤μ–΄κ°€μ§€λ” κ²ƒμ„ λ³Ό μ μλ‹¤. ν•μ§€λ§ `value()`κ°€ μ•„λ‹ λ‹¤λ¥Έ `Attribute`μ—λ” κ·Έμ— λ€ν• μ΄λ¦„μ„ μ§μ ‘ λ…μ‹ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

μ½”ν‹€λ¦°μ κ²½μ° μΌλ° ν΄λμ¤μ μƒμ„±μμ™€ κ°™μ΄ μ‘μ„±ν•κΈ° λ•λ¬Έμ—  ν”„λ΅νΌν‹°μ μ΄λ¦„μ΄ `value`κ°€ μ•„λ‹λ”λΌλ„ μƒμ„±μ μμ„μ— λ”°λΌ μ‘μ„±ν•  μ μλ‹¤.

```kotlin
private annotation class JsonNaming(val name: String, val value: String)  
```

```kotlin
@JsonNaming("Hello", "hello")  
val t = 10  
```

λ§μ•½ μ½”ν‹€λ¦° μ–΄λ…Έν…μ΄μ…μ„ μλ°”μ—μ„ μ‚¬μ©ν•λ ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ λ¨λ“  `Attribute`μ μ΄λ¦„μ„ λ…μ‹ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

```java
@JsonNaming(value = "hello", name = "20")  
int foo = 150;
```

### 1-5. λ©”νƒ€ μ• λ…Έν…μ΄μ… : μ• λ…Έν…μ΄μ…μ„ μ²λ¦¬ν•λ” λ°©λ²• μ μ–΄

λ©”νƒ€ μ• λ…Έν…μ΄μ…μ΄λ€, μ• λ…Έν…μ΄μ…μ„ μ •μν•λ” ν΄λμ¤μ— μ μ©ν•  μ μλ” κ²ƒμ„ λ©”νƒ€ μ• λ…Έν…μ΄μ…μ΄λΌ λ¶€λ¥Έλ‹¤. μ΄λ¬ν• λ©”νƒ€ μ• λ…Έν…μ΄μ…μ—λ” `@Target`, `@Retention` λ“±μ΄ μλ‹¤. `@Target`μ€ ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μλ” λ€μƒ λ²”μ„λ¥Ό μ§€μ •ν•  μ μμΌλ©°, μ—¬λ¬ κ°λ¥Ό ν• λ²μ— μ‘μ„±ν•  μλ„ μλ‹¤.

```kotlin
public enum class AnnotationTarget {  
	CLASS,  
	ANNOTATION_CLASS,  
	TYPE_PARAMETER,  
	PROPERTY,  
	FIELD,  
	LOCAL_VARIABLE,  
	VALUE_PARAMETER,  
	CONSTRUCTOR,  
	FUNCTION,  
	PROPERTY_GETTER,  
	PROPERTY_SETTER,  
	TYPE,  
	EXPRESSION,  
	FILE,  
	TYPEALIAS  
}
```

`@Retention`μ€ ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ„ μ†μ¤ μμ¤€μ—μ„λ§ μ μ§€ν•  κ²ƒμΈμ§€, ν΄λμ¤ νμΌμ— μ €μ¥ν• μ§€, μ‹¤ν–‰ μ‹μ μ— λ¦¬ν”λ ‰μ…μ„ μ‚¬μ©ν•΄ μ ‘κ·Όν•  μ μκ² ν• μ§€ μ§€μ •ν•λ” λ©”νƒ€ μ• λ…Έν…μ΄μ…μ΄λ‹¤.

```kotlin
public enum class AnnotationRetention {  
	SOURCE,  
	BINARY,  
	RUNTIME  
}
```

## 2. λ¦¬ν”λ ‰μ… : μ‹¤ν–‰ μ‹μ μ— μ½”ν‹€λ¦° κ°μ²΄ λ‚΄λ¶€ κ΄€μ°°

λ¦¬ν”λ ‰μ…μ΄λ€, μ‹¤ν–‰ μ‹μ μ— λ™μ μΌλ΅ κ°μ²΄μ ν”„λ΅νΌν‹°μ™€ λ©”μ†λ“μ— μ ‘κ·Όν•  μ μκ² ν•΄μ£Όλ” λ°©λ²•μ΄λ‹¤. λ³΄ν†µ κ°μ²΄μ λ©”μ†λ“λ‚ ν”„λ΅νΌν‹°μ— μ ‘κ·Όν•  λ•μ—λ” ν”„λ΅κ·Έλ¨ μ†μ¤μ½”λ“ μ•μ— κµ¬μ²΄μ μΈ μ„ μ–Έμ΄ μλ” λ©”μ†λ“λ‚ ν”„λ΅νΌν‹° μ΄λ¦„μ„ μ‚¬μ©ν•λ©°, μ»΄νμΌλ¬λ” κ·Έλ° μ΄λ¦„μ΄ μ‹¤μ λ΅ κ°€λ¦¬ν‚¤λ” μ„ μ–Έμ„ μ»΄νμΌ μ‹μ μ— μ •μ μΌλ΅ μ°Ύμ•„λ‚΄μ„ ν•΄λ‹Ήν•λ” μ„ μ–Έμ΄ μ‹¤μ  μ΅΄μ¬ν•¨μ„ λ³΄μ¥ν•λ‹¤.

### 2-1. μ½”ν‹€λ¦° λ¦¬ν”λ ‰μ… API : KClass, KClallable, KFunction, KProperty

#### KClass

ν•΄λ‹Ή ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ©΄, ν΄λμ¤ μ•μ— μλ” λ¨λ“  μ„ μ–Έμ„ μ—΄κ±°ν•κ³ , κ° μ„ μ–Έμ— μ ‘κ·Όν•κ±°λ‚ ν΄λμ¤μ μƒμ„ ν΄λμ¤λ¥Ό μ–»λ” λ“± λ‹¤μ–‘ν• μ‘μ—…μ΄ κ°€λ¥ν•λ‹¤.

```kotlin
open class Animal(val height: Int)  
  
private class Person(
	val name: String, 
	val age: Int, 
	height: Int
) : Animal(height)
  
fun main() {  
	val p = Person("Alice", 29, 198)  
	val kClass = p.javaClass.kotlin  

	// μ¶λ ¥ : Person
	println(kClass.simpleName)  
}
```

μ΄λ ‡κ² νΉμ • κ°μ²΄λ¥Ό μ½”ν‹€λ¦° ν΄λμ¤λ΅ λ°›μ•„μ¤λ©΄, λ°νƒ€μ„μ— ν•΄λ‹Ή ν΄λμ¤μ μ΄λ¦„μ„ μ‚¬μ©ν•  μ μλ‹¤. λν•, ν΄λμ¤ λ‚΄λ¶€μ— μλ” ν”„λ΅νΌν‹°λ¥Ό μ΅°νν•κ³  μ‹¶μΌλ©΄ λ‹¤μκ³Ό κ°™μ— `memberProperties`λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.

```kotlin
// μ¶λ ¥ : age name height
kClass.memberProperties.forEach { println(it.name) }
```

μ΄λ¥Ό μ‚¬μ©ν•  κ²½μ° `Person` ν΄λμ¤μ ν”„λ΅νΌν‹°μ™€ μ΅°μƒ ν΄λμ¤ λ‚΄λ¶€μ— μ •μλ λΉ„ν™•μ¥ ν”„λ΅νΌν‹°λ¥Ό λ¨λ‘ κ°€μ Έμ¬ μ μλ‹¤. `memberProperties`λ¥Ό λΉ„λ΅―ν•΄ `KClass`μ— λ€ν•΄ μ‚¬μ©ν•  μ μλ” λ‹¤μ–‘ν• κΈ°λ¥μ€ μ‹¤μ λ΅ `kotlin-reflect` λΌμ΄λΈλ¬λ¦¬λ¥Ό ν†µν•΄ μ κ³µλλ” ν™•μ¥ ν•¨μμ΄λ‹¤.

#### KCallable, KFunction

`KClallable`μ€ ν•¨μμ™€ ν”„λ΅νΌν‹°λ¥Ό μ•„μ°λ¥΄λ” κ³µν†µ μƒμ„ μΈν„°νμ΄μ¤μ΄λ‹¤. ν•΄λ‹Ή μΈν„°νμ΄μ¤ μ•μ—λ” `call`μ΄λΌλ” ν•¨μκ°€ λ“¤μ–΄μμΌλ©°, μ΄λ¥Ό μ‚¬μ©ν•λ©΄ ν•¨μ νΉμ€ ν”„λ΅νΌν‹°μ κ²ν„°λ¥Ό νΈμ¶ν•  μ μλ‹¤.

`KFunction`μ€ νΉμ • ν•¨μλ¥Ό λ‹΄μ„ μ μλ” μΈν„°νμ΄μ¤μ΄λ‹¤. ν•΄λ‹Ή μΈν„°νμ΄μ¤ μ—­μ‹ `KCallable`μ„ μƒμ† λ°›κ³  μλ” κ²ƒμ„ λ³Ό μ μλ‹¤. `KFunction`μ€ ν•¨μμ λ§¤κ° λ³€μ μμ— λ”°λΌ `KFunction0`, `KFunction1` λ“±λ“± λ§¤κ° λ³€μ μμ— μƒμ‘ν•λ” μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•λ‹¤.

```kotlin
fun foo(x: Int) = println(x)  
  
fun kCallableTest() {  
	val kFunction = ::foo  
	// μ¶λ ¥ : 42
	kFunction.call(42)  
}
```

μ΄λ ‡κ² `KCallable`μ„ μƒμ† λ°›μ„ κ²½μ° ν•¨μλ¥Ό `call`μ„ ν†µν•΄ νΈμ¶ν•  μ μλ‹¤. ν•μ§€λ§ `call`μ€ λ§¤κ° λ³€μλ¥Ό μ „λ‹¬ν•΄μ£Όμ§€ μ•μ„ κ²½μ° μ»΄νμΌλ¬κ°€ μ—λ¬λ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•λ”λ‹¤. λ§μ•½ ν•¨μμ— μ •μλ λ§¤κ° λ³€μλ³΄λ‹¤ μ κ±°λ‚ λ” λ§μ€ μΈμλ¥Ό λ„κΈΈ κ²½μ° λ‹¤μκ³Ό κ°™μ€ μ—λ¬κ°€ λ°μƒν•λ‹¤.

```
IllegalArgumentException: Callable expects 1 arguments, but 0 were provided.
```

λ•λ¬Έμ— ν•¨μλ¥Ό νΈμ¶ν•  λ•μ—λ” `invoke`λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. `invoke`λ” ν•¨μμ λ§¤κ° λ³€μ κ°μμ— λ”°λΌ μ •ν™•ν• μΈμλ¥Ό λ„κΈΈ μ μλ„λ΅ μ»΄νμΌλ¬κ°€ μ λ„ν•΄μ¤€λ‹¤. λν•, `invoke`λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  `kFunction`μ— λ°”λ΅ μΈμλ¥Ό λ„κ²¨μ¤„ μλ„ μλ‹¤.

```kotlin
kFunction.invoke(10)  
kFunction(24)
```

> `KFunctionN` νƒ€μ…μ€ `KFunction`μ„ ν™•μ¥ν•λ©°, Nκ³Ό νλΌλ―Έν„° κ°μκ°€ κ°™μ€ `invoke`λ¥Ό μ¶”κ°€λ΅ ν¬ν•¨ν•λ‹¤. μ΄λ° ν•¨μ νƒ€μ…λ“¤μ€ μ»΄νμΌλ¬κ°€ μƒμ„±ν• ν•©μ„± νƒ€μ…(synthetic compiler-generated type)μ΄λΌ λ¶€λ¥Έλ‹¤. μ‹¤μ λ΅λ” `KFunction22`κΉμ§€λ” μ •μλμ–΄ μμ§€λ§, κ·Έ μ΄μƒμΌλ΅λ” μ»΄νμΌλ¬κ°€ μƒμ„±ν• ν•©μ„± νƒ€μ…μ„ μ‚¬μ©ν•λ‹¤.

#### KPropery

`KProperty` λν•, `KCallable`μ„ ν™•μ¥ν•λ‹¤. λ•λ¬Έμ— `call` λ©”μ†λ“λ¥Ό ν†µν•΄ νΉμ • ν”„λ΅νΌν‹°μ `getter`λ¥Ό νΈμ¶ν•  μ μλ‹¤. ν•μ§€λ§ μ΄ λν•, ν”„λ΅νΌν‹° μΈν„°νμ΄μ¤μ—μ„ μ κ³µν•λ” `get` λ©”μ†λ“λ¥Ό ν™μ©ν•λ” κ²ƒμ΄ λ” μΆ‹λ‹¤.

```kotlin
val p = Person("Alice", 29, 198)  
val memberProperty = Person::age  
// μ¶λ ¥ : 29
println(memberProperty.get(p))
```

λ§μ•½ ν”„λ΅νΌν‹°κ°€ `var`λ΅ μ„ μ–Έλμ—μ„ κ²½μ° `KMutableProperty`λ΅ λ°”λ€λ‹¤. `KMutableProperty`λ” ν•΄λ‹Ή ν”„λ΅νΌν‹°μ κ²ν„°μ™€ μ„Έν„°λ¥Ό ν•¨μμ²λΌ λ‹¤λ£° μ μλ‹¤.
