---
title: "[ë°±ì¤€][JAVA] - íŠ¸ë¦¬ì˜ ì§€ë¦„(1967)"
last_modified_at: 2023-10-24T21:00:37-21:30
categories: ALGORITHM
tags:
  - DFS
  - GRAPH
toc: true
toc_sticky: true
toc_label: "Algorithm"
toc_icon: "file"
---

## ë¬¸ì œ ì†Œê°œ

ğŸ¥‡ï¸ ë¬¸ì œ ë ˆë²¨ : ê³¨ë“œ4

ğŸ”” ë¬¸ì œ ìœ í˜• : ê¹Šì´ ìš°ì„  íƒìƒ‰, ê·¸ë˜í”„

ğŸ’¬ í’€ì´ ì–¸ì–´ : `JAVA`

â±ï¸ í’€ì´ ì‹œê°„ : 60ë¶„

ğŸ–‡ï¸ ë¬¸ì œ ë§í¬ : [ë°±ì¤€ ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1967)

---

## ğŸ“ ë¬¸ì œ

íŠ¸ë¦¬(tree)ëŠ” ì‚¬ì´í´ì´ ì—†ëŠ” ë¬´ë°©í–¥ ê·¸ë˜í”„ì´ë‹¤. íŠ¸ë¦¬ì—ì„œëŠ” ì–´ë–¤ ë‘ ë…¸ë“œë¥¼ ì„ íƒí•´ë„ ë‘˜ ì‚¬ì´ì— ê²½ë¡œê°€ í•­ìƒ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê²Œ ëœë‹¤. íŠ¸ë¦¬ì—ì„œ ì–´ë–¤ ë‘ ë…¸ë“œë¥¼ ì„ íƒí•´ì„œ ì–‘ìª½ìœ¼ë¡œ ì«™ ë‹¹ê¸¸ ë•Œ, ê°€ì¥ ê¸¸ê²Œ ëŠ˜ì–´ë‚˜ëŠ” ê²½ìš°ê°€ ìˆì„ ê²ƒì´ë‹¤. ì´ëŸ´ ë•Œ íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œë“¤ì€ ì´ ë‘ ë…¸ë“œë¥¼ ì§€ë¦„ì˜ ë ì ìœ¼ë¡œ í•˜ëŠ” ì› ì•ˆì— ë“¤ì–´ê°€ê²Œ ëœë‹¤.

![img1](https://www.acmicpc.net/JudgeOnline/upload/201007/ttrrtrtr.png)

ì´ëŸ° ë‘ ë…¸ë“œ ì‚¬ì´ì˜ ê²½ë¡œì˜ ê¸¸ì´ë¥¼ íŠ¸ë¦¬ì˜ ì§€ë¦„ì´ë¼ê³  í•œë‹¤. ì •í™•íˆ ì •ì˜í•˜ìë©´ íŠ¸ë¦¬ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê²½ë¡œë“¤ ì¤‘ì—ì„œ ê°€ì¥ ê¸´ ê²ƒì˜ ê¸¸ì´ë¥¼ ë§í•œë‹¤.

ì…ë ¥ìœ¼ë¡œ ë£¨íŠ¸ê°€ ìˆëŠ” íŠ¸ë¦¬ë¥¼ ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê°„ì„ ë“¤ë¡œ ì¤„ ë•Œ, íŠ¸ë¦¬ì˜ ì§€ë¦„ì„ êµ¬í•´ì„œ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ì•„ë˜ì™€ ê°™ì€ íŠ¸ë¦¬ê°€ ì£¼ì–´ì§„ë‹¤ë©´ íŠ¸ë¦¬ì˜ ì§€ë¦„ì€ 45ê°€ ëœë‹¤.

![img2](https://www.acmicpc.net/JudgeOnline/upload/201007/tttttt.png)

íŠ¸ë¦¬ì˜ ë…¸ë“œëŠ” 1ë¶€í„° nê¹Œì§€ ë²ˆí˜¸ê°€ ë§¤ê²¨ì ¸ ìˆë‹¤.

## ğŸ¤” ë¬¸ì œ ë¶„ì„

ì²« ì¤„ì„ ì œì™¸í•˜ê³ , `N-1`ê¹Œì§€ ì…ë ¥ë˜ëŠ” ê°’ì„ ë³´ë©´ ìˆœì„œëŒ€ë¡œ `ë¶€ëª¨ë…¸ë“œ ìì‹ë…¸ë“œ ê°€ì¤‘ì¹˜`ê°€ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤.

```
12
1 2 3
1 3 2
2 4 5
3 5 11
3 6 9
4 7 1
4 8 7
5 9 15
5 10 4
6 11 6
6 12 10
```

ì´ì™€ ë¹„ìŠ·í•œ í˜•íƒœì˜ ë¬¸ì œëŠ” ëŒ€ë¶€ë¶„ ê·¸ë˜í”„ë¡œ í’€ì´ê°€ ê°€ëŠ¥í•˜ë‹¤.

### ê·¸ë˜í”„ ì…ë ¥ ë°›ê¸°

ìš°ì„  `Node` í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œ ë’¤, ìƒì„±ìë¥¼ í†µí•´ ì—°ê²°ëœ ë…¸ë“œì˜ ë²ˆí˜¸ì™€ ê°€ì¤‘ì¹˜ë¥¼ ì €ì¥í•  ìˆ˜ ìˆê²Œ êµ¬ì„±í•´ì¤€ë‹¤.

```java
private static class Node {
    int linked, point;

    public Node(int linked, int point) {
        this.linked = linked;
        this.point = point;
    }
}
```

ë‹¤ìŒìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ìƒì„±í•´ ë¶€ëª¨ì™€ ìì‹, ìì‹ê³¼ ë¶€ëª¨ë¥¼ ì´ì–´ì¤€ë‹¤.

```java
public class Main {
    static int N;
    
    // ê·¸ë˜í”„ ë¦¬ìŠ¤íŠ¸ ë°°ì—´
    static ArrayList<Node>[] lists;
    
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;
        N = Integer.parseInt(br.readLine());

        lists = new ArrayList[N + 1];
        visited = new boolean[N + 1];

        // ê·¸ë˜í”„ ë°°ì—´ ì´ˆê¸°í™”
        for (int i = 1; i <= N; i++) {
            lists[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            int parent = Integer.parseInt(st.nextToken());
            int child = Integer.parseInt(st.nextToken());
            int point = Integer.parseInt(st.nextToken());
            
            // ë¶€ëª¨ ë¦¬ìŠ¤íŠ¸ì— ìì‹ ë…¸ë“œ ì—°ê²°
            lists[parent].add(new Node(child, point));
            // ìì‹ ë¦¬ìŠ¤íŠ¸ì— ë¶€ëª¨ ë…¸ë“œ ì—°ê²°
            lists[child].add(new Node(parent, point));
        }
        
        ...
    }
}
```

### DFSë¥¼ í†µí•œ íƒìƒ‰

ì´ì œ ì‹œì‘ ì§€ì ì„ ì •í•˜ê³ , ìµœëŒ€ê°’ì„ íƒìƒ‰í•˜ë©´ ëœë‹¤.

ì£¼ì–´ì§„ ì˜ˆì‹œëŒ€ë¡œ ì²« ì‹œì‘ ì§€ì ì„ 1ë²ˆ ë¶€í„° ì‹œì‘í–ˆë‹¤ê³  ê°€ì •í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ë°˜ë³µí•˜ê²Œ ëœë‹¤.

![img1](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbgQkWo%2Fbtsy4bBjq6p%2FkYDDKARjnIvOqc6sZamAH0%2Fimg.png)

1ë²ˆ ë…¸ë“œë¶€í„° ì‹œì‘í•´ì„œ ê°€ì¥ ë ë…¸ë“œê¹Œì§€ íƒìƒ‰í•˜ë©´ì„œ ëˆ„ì í•©(sum)ì´ ê°€ì¥ í° ê°’ì„ ê°€ì§„ ë…¸ë“œê°€ ë¦¬í”„ë…¸ë“œ(ì‹œì‘ì )ì´ ëœë‹¤. 

```java
private static void dfs(int nodeNum, int sum) {
    // í˜„ì¬ ë…¸ë“œ ë°©ë¬¸ ì²˜ë¦¬
    visited[nodeNum] = true;

    for (Node node : lists[nodeNum]) {
        // ë°©ë¬¸í•˜ì§€ ì•Šì€ ìì‹ ë…¸ë“œ íƒìƒ‰
        if (!visited[node.linked]) {
            // ì¬ê·€ë¥¼ í†µí•´ ê°€ì¥ ë§ˆì§€ë§‰ ë…¸ë“œê¹Œì§€ íƒìƒ‰
            dfs(node.linked, sum + node.point);
        }
    }
    
    // ë ë…¸ë“œì— ë°©ë¬¸í•´ì•¼ ì§„í–‰ë˜ë©°, ê¸°ì¡´ ëˆ„ì í•©ì´ í˜„ì¬ ë…¸ë“œê¹Œì§€ì˜ ëˆ„ì í•©ë³´ë‹¤ ì‘ì„ ê²½ìš°
    if (result < sum) {
        // ëˆ„ì í•© ìµœëŒ€ê°’ ìµœì‹ í™”
        result = sum;
        // ì‹œì‘í•  ë¦¬í”„ ë…¸ë“œë¡œ ì§€ì •
        leafNode = nodeNum;
    }

}
```

## ğŸ˜ ìµœì¢… ì½”ë“œ

ê°€ì¥ ë§ˆì§€ë§‰ í’€ì´ê°€ ìµœì í™”ëœ ì½”ë“œì…ë‹ˆë‹¤.

### í’€ì´1

ëª¨ë“  ë…¸ë“œ ì¤‘ ë¶€ëª¨ ë…¸ë“œê°€ 1ê°œì¸ ë…¸ë“œë§Œ íƒìƒ‰í•´ ê°€ëŠ¥ì„±ì„ í™•ì¸í•˜ëŠ” ì½”ë“œ

> ì˜ˆì œ ì…ë ¥ ê¸°ì¤€ìœ¼ë¡œ ì´ 6ê°œì˜ ë…¸ë“œ(7, 8, 9, 10, 11, 12)ì—ì„œ ì‹œì‘

```
ë©”ëª¨ë¦¬ : 124384 KB
ì‹œê°„ : 1860 ms
```

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class Main {
    static int N;
    static ArrayList<Node>[] lists;
    static boolean[] visited;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;
        N = Integer.parseInt(br.readLine());

        lists = new ArrayList[N + 1];
        for (int i = 0; i <= N; i++) {
            lists[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            int parent = Integer.parseInt(st.nextToken());
            int child = Integer.parseInt(st.nextToken());
            int point = Integer.parseInt(st.nextToken());

            lists[child].add(new Node(parent, point));
            lists[parent].add(new Node(child, point));
        }

        int max = Integer.MIN_VALUE;

        for (int i = 1; i <= N; i++) {
            if (lists[i].size() == 1) {
                visited = new boolean[N + 1];
                max = Math.max(dfs(i), max);
            }

        }

        System.out.println(max == Integer.MIN_VALUE ? 0 : max);
    }

    private static int dfs(int nodeNum) {
        visited[nodeNum] = true;
        int maxSum = 0;

        for (Node node : lists[nodeNum]) {
            if (!visited[node.linked]) {
                int s = dfs(node.linked) + node.point;
                maxSum = Math.max(maxSum, s);
            }
        }

        return maxSum;
    }

    private static class Node {
        int linked, point;

        public Node(int linked, int point) {
            this.linked = linked;
            this.point = point;
        }
    }
}
```

### í’€ì´2

1ë²ˆ ë…¸ë“œì—ì„œ íƒìƒ‰ì„ ì‹œì‘í•´, ëˆ„ì í•©ì´ ê°€ì¥ í° ë…¸ë“œë¥¼ ì°¾ì•„ ìµœëŒ€ê°’ì„ íƒìƒ‰í•˜ëŠ” ì½”ë“œ

> ì˜ˆì œ ì…ë ¥ ê¸°ì¤€ìœ¼ë¡œ ì´ 2ê°œì˜ ë…¸ë“œ(1, 9)ì—ì„œ ì‹œì‘

```
ë©”ëª¨ë¦¬ : 20840 KB
ì‹œê°„ : 188 ms
```

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class Main {
    static int N, leafNode, result;
    static ArrayList<Node>[] lists;
    static boolean[] visited;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;
        N = Integer.parseInt(br.readLine());

        lists = new ArrayList[N + 1];
        for (int i = 0; i <= N; i++) {
            lists[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            int parent = Integer.parseInt(st.nextToken());
            int child = Integer.parseInt(st.nextToken());
            int point = Integer.parseInt(st.nextToken());

            lists[child].add(new Node(parent, point));
            lists[parent].add(new Node(child, point));
        }

        visited = new boolean[N + 1];

        dfs(1, 0);

        for (int i = 0; i <= N; i++) {
            visited[i] = false;
        }

        dfs(leafNode, 0);

        System.out.println(result);

        br.close();
    }

    private static void dfs(int nodeNum, int sum) {
        visited[nodeNum] = true;

        for (Node node : lists[nodeNum]) {
            if (!visited[node.linked]) {
                dfs(node.linked, sum + node.point);
            }
        }

        if (result < sum) {
            result = sum;
            leafNode = nodeNum;
        }

    }

    private static class Node {
        int linked, point;

        public Node(int linked, int point) {
            this.linked = linked;
            this.point = point;
        }
    }
}
```

### í’€ì´3

í’€ì´ 2ë²ˆê³¼ ë™ì¼í•˜ì§€ë§Œ `Node`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë°°ì—´ì„ ì´ìš©í•œ í’€ì´

```
ë©”ëª¨ë¦¬ : 20624 KB
ì‹œê°„ : 176 ms
```

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class Main {
    static int N, leafNode, result;
    static ArrayList<int[]>[] lists;
    static boolean[] visited;
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;
        N = Integer.parseInt(br.readLine());

        lists = new ArrayList[N + 1];
        for (int i = 0; i <= N; i++) {
            lists[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            int parent = Integer.parseInt(st.nextToken());
            int child = Integer.parseInt(st.nextToken());
            int point = Integer.parseInt(st.nextToken());

            lists[child].add(new int[]{parent, point});
            lists[parent].add(new int[]{child, point});
        }

        visited = new boolean[N + 1];

        dfs(1, 0);

        visited = new boolean[N + 1];

        dfs(leafNode, 0);

        System.out.println(result);

        br.close();
    }

    private static void dfs(int nodeNum, int sum) {
        visited[nodeNum] = true;

        for (int[] node : lists[nodeNum]) {
            if (!visited[node[0]]) {
                dfs(node[0], sum + node[1]);
            }
        }

        if (result < sum) {
            result = sum;
            leafNode = nodeNum;
        }

    }
}
```
