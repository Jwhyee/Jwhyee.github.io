---
title: "[Java][Algorithm] - BFS(Breadth-First Search)"
last_modified_at: 2023-08-02T21:00:37-21:30
categories: ALGORITHM
tags:
  - BFS
  - Search
toc: true
toc_sticky: true
toc_label: "Algorithm"
toc_icon: "file"
---

## í…ŒìŠ¤íŠ¸ í™˜ê²½

ğŸ› ï¸ Java : Amazon corretto 17

## BFS(Breadth-First Search)ë€?

í•´ì„ ê·¸ëŒ€ë¡œ ë„ˆë¹„ë¥¼ ìš°ì„ ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë©°,
ì£¼ë¡œ ë¯¸ë¡œ ì°¾ê¸°ì™€ ê°™ì´ ìµœì ì˜ í•´ë¥¼ êµ¬í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤.

> ì¦‰, í•œ ë…¸ë“œì—ì„œ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë…¸ë“œë¥¼ íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

## BFS ì‚¬ìš©ë²•

ë¯¸ë¡œ ì°¾ê¸°ë¥¼ ì˜ˆì‹œë¡œ BFSë¥¼ ì´í•´í•´ë³´ì!

ì•„ë˜ í‘œëŠ” ë¯¸ë¡œì˜ ì¼ë¶€ë¶„ì´ë©°, 1ì€ ì´ë™í•  ìˆ˜ ìˆëŠ” ê¸¸, 0ì€ ë²½ì´ë‹¤.
$(1, 1)$ì—ì„œ ì‹œì‘í•´ì„œ $(6, 4)$ê¹Œì§€ ê°€ëŠ” ìµœì†Œ ë£¨íŠ¸ë¥¼ êµ¬í•´ë³´ì.

|    êµ¬ë¶„     | [1] | [2] | [3] | [4] | [5] | [6] |
|:---------:|-----|-----|-----|-----|-----|-----|
|  **[1]**  | 1   | 0   | 1   | 1   | 1   | 1   |
|  **[2]**  | 1   | 0   | 1   | 0   | 1   | 0   |
|  **[3]**  | 1   | 0   | 1   | 0   | 1   | 1   |
|  **[4]**  | 1   | 1   | 1   | 0   | 1   | 1   |


### 1. ì§€ë„ ê·¸ë¦¬ê¸°

ìš°ì„  ìœ„ ê·¸ë˜í”„ê°€ ë¬¸ì œë¡œ ì£¼ì–´ì§ˆ ë•Œ, ì…ë ¥ë°›ì„ ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì.

```java
/*
4 6
101111
101010
101011
111011
*/
public class BfsTest {
    // H : ë°°ì—´ì˜ ë†’ì´, W : ë°°ì—´ì˜ ê¸¸ì´
    static int H, W;
    
    // ì£¼ì–´ì§„ ê¸¸ì„ ì €ì¥í•  ë°°ì—´
    static int[][] map;
    
    // ë°©ë¬¸í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°°ì—´
    static boolean[][] visited;
    
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // ì²˜ìŒìœ¼ë¡œ ì…ë ¥ ë°›ì€ 4 6ì„ ë‚˜ëˆ  ë†’ì´(H)ì™€ ê¸¸ì´(W)ì— ì €ì¥
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        H = Integer.parseInt(st.nextToken());
        W = Integer.parseInt(st.nextToken());
        
        // ì§€ë„ ë° ë°©ë¬¸ ë°°ì—´ í¬ê¸° ì§€ì •
        map = new int[H][W];
        visited = new boolean[H][W];

        // ë¬¸ì œì— ì£¼ì–´ì§„ëŒ€ë¡œ ì§€ë„ ê·¸ë¦¬ê¸°
        for (int i = 0; i < H; i++) {
            String s = br.readLine();
            for (int j = 0; j < W; j++) {
                map[i][j] = s.charAt(j) - '0';
            }
        }

        // 0, 0ì„ ê¸°ì¤€ìœ¼ë¡œ íƒìƒ‰ ì‹œì‘
        bfs(0, 0);
    }
    
    public static void bfs(int y, int x) {
        ...
    }
}
```

### 2. Queue, Node ì¶”ê°€

ì§€ë„ë¥¼ ë‹¤ ê·¸ë ¸ë‹¤ë©´, ë°©ë¬¸í•  ë…¸ë“œ(ì¢Œí‘œ)ë¥¼ íì— ì¶”ê°€í•œë‹¤.

```java
public class BfsTest {
    ...
    public static void bfs(int y, int x) {
        // ì²« ì¢Œí‘œëŠ” ë°©ë¬¸ ì™„ë£Œ 
        visited[y][x] = true;

        // ë°©ë¬¸í•  ë…¸ë“œë“¤ì„ ë³´ê´€í•˜ëŠ” í
        Queue<Node> queue = new LinkedList<>();
        
        // ì²« ì‹œì‘ì ì€ ë¯¸ë¦¬ íì— ì¶”ê°€
        queue.add(new Node(x, y, 1));
        
        // íê°€ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ ê³„ì† ì§„í–‰
        while (!queue.isEmpty()) {
            ...
        }
    }
    
    // íƒìƒ‰í•  ì¢Œí‘œë¥¼ ë³´ê´€í•  ë…¸ë“œ
    static class Node {
        int x;
        int y;

        public Node(int x, int y) {
            this.x = x;
            this.y = y;
            this.cost = cost;
        }
    }
}
```

### 3. BFS íƒìƒ‰ êµ¬í˜„

ì´ì œ íì— ìˆëŠ” ë…¸ë“œë¥¼ í•˜ë‚˜ì”© êº¼ë‚¸ ë‹¤ìŒ, í•´ë‹¹ ë…¸ë“œì˜ ë‹¤ìŒ ì¢Œí‘œê°€ ìœ íš¨í•œì§€ í™•ì¸í•œë‹¤.
ë§Œì•½ ìœ íš¨í•˜ë‹¤ë©´ ë‹¤ìŒ ì¢Œí‘œì— ëŒ€í•œ ë…¸ë“œë¥¼ íì— ì¶”ê°€í•´ì¤€ë‹¤.

```java
public class BfsTest {
    ...
    // ë°©í–¥(direction)ì„ ì¡°ì ˆí•˜ëŠ” ë°°ì—´
    // (x, y) ê¸°ì¤€ì´ë©°, ë°°ì—´ ê¸°ì¤€ ìœ„ìª½ì€ -1, ì•„ë˜ëŠ” 1ì„
    // ìš°(0, 1) -> ìƒ(-1, 0) -> ì¢Œ(0, -1) -> í•˜(1, 0)
    static int[] dy = {0, -1, 0, 1};
    static int[] dx = {1, 0, -1, 0};

    // ìµœì†Œ ê²½ë¡œë¥¼ ì €ì¥í•  ë³€ìˆ˜
    static int result;
    public static void bfs(int y, int x) {
        ...
        while (!queue.isEmpty()) {
            // ì´ì „ì— ë„£ì–´ë‘” Nodeë¥¼ êº¼ë‚´ íƒìƒ‰
            Node now = queue.poll;

            // í˜„ì¬ ë…¸ë“œ ë°©ë¬¸ì²˜ë¦¬
            visited[now.y][now.x] = true;
            result = now.cost;
            
            // ë™, ì„œ, ë‚¨, ë¶ìœ¼ë¡œ íƒìƒ‰í•˜ê¸° ìœ„í•´ 4ë²ˆ ë°˜ë³µ
            for (int i = 0; i < 4; i++) {
                // ë‹¤ìŒ(next) ì¢Œí‘œ ì„ ì •
                // í˜„ì¬ ì¢Œí‘œ + ë°©í–¥ì„ ì„ íƒí•´ ë‹¤ìŒ ì¢Œí‘œë¥¼ ì„ ì •í•¨
                // ì˜ˆ) iê°€ 0ì¼ ê²½ìš° : í˜„ì¬ ì¢Œí‘œì—ì„œ ì˜¤ë¥¸ìª½ ì¢Œí‘œ íƒìƒ‰
                int nx = now.x + dx[i];
                int ny = now.y + dy[i];

                // ë§Œì•½ ë‹¤ìŒ x ì¢Œí‘œê°€ 0ì´ìƒì´ê³ , W(ì§€ë„ ê¸¸ì´)ë³´ë‹¤ ì‘ê³ ,
                // ë§Œì•½ ë‹¤ìŒ y ì¢Œí‘œê°€ 0ì´ìƒì´ê³ , H(ì§€ë„ ë†’ì´)ë³´ë‹¤ ì‘ê³ ,
                if (nx >= 0 && nx < W && ny >= 0 && ny < H) {
                    
                    // ë§Œì•½ ë‹¤ìŒ ì¢Œí‘œë¥¼ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ê³ , ê¸¸ì´ë¼ë©´
                    if (!visited[ny][nx] && map[ny][nx] == 1) {
                        // íì— ì¶”ê°€
                        queue.add(new Node(nx, ny, now.cost + 1));
                    }
                    
                }
            }
        }
    }
    ...
}
```

### ìµœì¢… ì½”ë“œ

```java
public class BfsTest {

    // H : ë°°ì—´ì˜ ë†’ì´, W : ë°°ì—´ì˜ ê¸¸ì´
    static int H, W, result;

    // ì£¼ì–´ì§„ ê¸¸ì„ ì €ì¥í•  ë°°ì—´
    static int[][] map;

    // ë°©ë¬¸í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°°ì—´
    static boolean[][] visited;

    // ë°©í–¥(direction)ì„ ì¡°ì ˆí•˜ëŠ” ë°°ì—´
    // (x, y) ê¸°ì¤€ì´ë©°, ë°°ì—´ ê¸°ì¤€ ìœ„ìª½ì€ -1, ì•„ë˜ëŠ” 1ì„
    // ìš°(0, 1) -> ìƒ(-1, 0) -> ì¢Œ(0, -1) -> í•˜(1, 0)
    static int[] dy = {0, -1, 0, 1};
    static int[] dx = {1, 0, -1, 0};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        // ì²˜ìŒìœ¼ë¡œ ì…ë ¥ ë°›ì€ 4 6ì„ ë‚˜ëˆ  ë†’ì´(H)ì™€ ê¸¸ì´(W)ì— ì €ì¥
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        H = Integer.parseInt(st.nextToken());
        W = Integer.parseInt(st.nextToken());

        // ì§€ë„ ë° ë°©ë¬¸ ë°°ì—´ í¬ê¸° ì§€ì •
        map = new int[H][W];
        visited = new boolean[H][W];

        // ë¬¸ì œì— ì£¼ì–´ì§„ëŒ€ë¡œ ì§€ë„ ê·¸ë¦¬ê¸°
        for (int i = 0; i < H; i++) {
            String s = br.readLine();
            for (int j = 0; j < W; j++) {
                map[i][j] = s.charAt(j) - '0';
            }
        }

        // 0, 0ì„ ê¸°ì¤€ìœ¼ë¡œ íƒìƒ‰ ì‹œì‘
        bfs(0, 0);
        System.out.println("result = " + result);
    }

    public static void bfs(int y, int x) {
        // ì²« ì¢Œí‘œëŠ” ë°©ë¬¸ ì™„ë£Œ
        visited[y][x] = true;

        // ë°©ë¬¸í•  ë…¸ë“œë“¤ì„ ë³´ê´€í•˜ëŠ” í
        Queue<Node> queue = new LinkedList<>();

        // ì²« ì‹œì‘ì ì€ ë¯¸ë¦¬ íì— ì¶”ê°€
        queue.add(new Node(x, y, 1));

        // íê°€ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ ê³„ì† ì§„í–‰
        while (!queue.isEmpty()) {
            Node now = queue.poll();
            visited[now.y][now.x] = true;
            result = now.cost;
            for (int i = 0; i < 4; i++) {
                // ë‹¤ìŒ(next) ì¢Œí‘œ ì„ ì •
                // í˜„ì¬ ì¢Œí‘œ + ë°©í–¥ì„ ì„ íƒí•´ ë‹¤ìŒ ì¢Œí‘œë¥¼ ì„ ì •í•¨
                // ì˜ˆ) iê°€ 0ì¼ ê²½ìš° : í˜„ì¬ ì¢Œí‘œì—ì„œ ì˜¤ë¥¸ìª½ ì¢Œí‘œ íƒìƒ‰
                int nx = now.x + dx[i];
                int ny = now.y + dy[i];

                // ë§Œì•½ ë‹¤ìŒ x ì¢Œí‘œê°€ 0ì´ìƒì´ê³ , W(ì§€ë„ ê¸¸ì´)ë³´ë‹¤ ì‘ê³ ,
                // ë§Œì•½ ë‹¤ìŒ y ì¢Œí‘œê°€ 0ì´ìƒì´ê³ , H(ì§€ë„ ë†’ì´)ë³´ë‹¤ ì‘ê³ ,
                if (nx >= 0 && nx < W && ny >= 0 && ny < H) {

                    // ë§Œì•½ ë‹¤ìŒ ì¢Œí‘œë¥¼ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ê³ , ê¸¸ì´ë¼ë©´
                    if (!visited[ny][nx] && map[ny][nx] == 1) {
                        // íì— ì¶”ê°€
                        queue.add(new Node(nx, ny, now.cost + 1));
                    }

                }
            }
        }
    }

    // íƒìƒ‰í•  ì¢Œí‘œë¥¼ ë³´ê´€í•  ë…¸ë“œ
    static class Node {
        int x;
        int y;
        int cost;

        public Node(int x, int y, int cost) {
            this.x = x;
            this.y = y;
            this.cost = cost;
        }
    }
}
```


## ğŸ¤” íšŒê³ 

DFSì™€ BFSì˜ ê°€ì¥ í° ì°¨ì´ì ì€ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ë…¸ë“œë¥¼ ë‹¤ ë„ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•œë‹¤.
ê²°ë¡ ì ìœ¼ë¡œ í•œ ê¸¸ì—ì„œ ì—¬ëŸ¬ ë…¸ë“œë¥¼ ë°©ë¬¸í•´ì•¼í•  ê²½ìš° BFSë¥¼ ì‚¬ìš©í•˜ê³ ,
ê¸¸ì´ í•˜ë‚˜ë¡œë§Œ ì´ë£¨ì–´ì§„ ê²½ìš° DFSë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤!