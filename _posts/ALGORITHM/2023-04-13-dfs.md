---
title: "[Java] - DFS"
last_modified_at: 2023-04-16T21:00:37-21:30
categories: ALGORITHM
tags:
  - DFS
  - Search
toc: true
toc_sticky: true
toc_label: "Algorithm"
toc_icon: "file"
---

## í…ŒìŠ¤íŠ¸ í™˜ê²½

ğŸ› ï¸ Java : Amazon corretto 17

## DFS(Depth-First Search)ë€?

> í•´ì„ ê·¸ëŒ€ë¡œ ê¹Šì´ë¥¼ ìš°ì„ ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.<br>
> DFS ì•Œê³ ë¦¬ì¦˜ì€ ì£¼ë¡œ ìµœì ì˜ í•´ë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ëª¨ë“  ë…¸ë“œë¥¼ íƒìƒ‰í•˜ë©°, ê²½ìš°ë¥¼ ì°¾ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.
> - ëª¨ë“  ë…¸ë“œë¥¼ ë°©ë¬¸í•´ì•¼í•  ê²½ìš°
> - ì‹œì‘ì ì—ì„œ ëª©ì ì§€ê¹Œì§€ ì¤‘ë³µë˜ëŠ” ìˆ«ìê°€ ìˆìœ¼ë©´ ì•ˆ ë  ê²½ìš°
> - ê²½ë¡œë§ˆë‹¤ íŠ¹ì§•ì„ ì €ì¥í•´ë‘¬ì•¼í•˜ëŠ” ê²½ìš°


ì‰½ê²Œ ì´í•´í•˜ê¸° ìœ„í•´ ì•„ë˜ ì‚¬ì§„ì„ í†µí•´ í™•ì¸í•´ë³´ì!

<center>
    <img width="416" alt="image" src="https://user-images.githubusercontent.com/82663161/231776835-fb5ac3ef-8d9b-4bc1-b194-3d5d9de8ad8e.png">
</center>

í•´ë‹¹ ì„¤ëª…ì€ ì˜¤ë¦„ì°¨ìˆœ ë°©ë¬¸ì„ ê¸°ì¤€ì…ë‹ˆë‹¤.

- 0ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 1, 2ë²ˆ
  - 1ë²ˆ ë…¸ë“œë¡œ íƒìƒ‰(ì˜¤ë¦„ì°¨ìˆœ ê¸°ì¤€)
- 1ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 3, 4ë²ˆ
  - 3ë²ˆ ë…¸ë“œë¡œ íƒìƒ‰(ì˜¤ë¦„ì°¨ìˆœ ê¸°ì¤€)
- 3ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 1, 4ë²ˆ
  - 1ë²ˆ ë…¸ë“œëŠ” ë°©ë¬¸í–ˆê¸° ë•Œë¬¸ì— 4ë²ˆ ë…¸ë“œ ë°©ë¬¸
- 4ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 1, 3ë²ˆ
  - ì¸ì ‘í•´ ìˆëŠ” ëª¨ë“  ë…¸ë“œë¥¼ ë°©ë¬¸í•œ ìƒíƒœ
  - 1ë²ˆ â¡ 0ë²ˆ â¡ 2ë²ˆ ë…¸ë“œ ë°©ë¬¸
- 2ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 5, 6ë²ˆ
  - 5ë²ˆ ë…¸ë“œë¡œ íƒìƒ‰(ì˜¤ë¦„ì°¨ìˆœ ê¸°ì¤€) 
- 2ë²ˆ ë…¸ë“œ ë°©ë¬¸ í›„ visited ì²´í¬
  - ì¸ì ‘ ë…¸ë“œ : 2, 6ë²ˆ
  - 2ë²ˆ ë…¸ë“œëŠ” ë°©ë¬¸í–ˆê¸° ë•Œë¬¸ì— 6ë²ˆ ë…¸ë“œ ë°©ë¬¸
- ëª¨ë“  ë…¸ë“œ ë°©ë¬¸ì„ í–ˆê¸° ë•Œë¬¸ì— ì¢…ë£Œ

## êµ¬í˜„

ì‹¤ì œ ë¬¸ì œë¥¼ í†µí•´ DFSì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì!

> [ë°±ì¤€ - DFSì™€ BFS](https://www.acmicpc.net/problem/1260)<br>
> ê·¸ë˜í”„ë¥¼ DFSë¡œ íƒìƒ‰í•œ ê²°ê³¼ì™€ BFSë¡œ íƒìƒ‰í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ë‹¨, ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì •ì ì´ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°ì—ëŠ” ì •ì  ë²ˆí˜¸ê°€ ì‘ì€ ê²ƒì„ ë¨¼ì € ë°©ë¬¸í•˜ê³ , ë” ì´ìƒ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì ì´ ì—†ëŠ” ê²½ìš° ì¢…ë£Œí•œë‹¤. ì •ì  ë²ˆí˜¸ëŠ” 1ë²ˆë¶€í„° Në²ˆê¹Œì§€ì´ë‹¤.
> ```shell
> # input
> 4 5 1
> 1 2
> 1 3
> 1 4
> 2 4
> 3 4
>
> # output
> 1 2 4 3
> ```

í˜„ì¬ í¬ìŠ¤íŠ¸ëŠ” DFSì— ëŒ€í•œ ì½”ë“œë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

### í•´ì„¤

- 1ë²ˆ ë…¸ë“œëŠ” 2, 3, 4ë²ˆê³¼ ì—°ê²°ë˜ì–´ ìˆë‹¤.
- 2ë²ˆ ë…¸ë“œëŠ” 4ë²ˆê³¼ ì—°ê²°ë˜ì–´ ìˆë‹¤.
- 3ë²ˆ ë…¸ë“œëŠ” 4ë²ˆê³¼ ì—°ê²°ë˜ì–´ ìˆë‹¤.

<center>
  <img width="214" alt="image" src="https://user-images.githubusercontent.com/82663161/231938350-f14a28ff-bfa6-4a59-82e7-e16d28dfb425.png">
</center>

1. 1ë²ˆ ë…¸ë“œ â¡ 2ë²ˆ ë…¸ë“œ(ê°€ì¥ ì¸ì ‘í•˜ê³  ì •ì  ë²ˆí˜¸ê°€ ì‘ìŒ)
2. 2ë²ˆ ë…¸ë“œ â¡ 4ë²ˆ ë…¸ë“œ(ê°€ì¥ ì¸ì ‘í•˜ê³  ì •ì  ë²ˆí˜¸ê°€ ì‘ìŒ)
3. 4ë²ˆ ë…¸ë“œ â¡ 3ë²ˆ ë…¸ë“œ(ê°€ì¥ ì¸ì ‘í•˜ê³  ì •ì  ë²ˆí˜¸ê°€ ì‘ìŒ)

í•´ë‹¹ ê·¸ë¦¼ì„ ì¸ì ‘ í–‰ë ¬ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

<!--
| êµ¬ë¶„  | `1` | `2` | `3` | `4` |
|:---:|:---:|:---:|:---:|:---:|
| `1` |  0  |  `1`  |  1  |  1  |
| `2` |  1  |  0  |  0  |  `1`  |
| `3` |  1  |  0  |  0  |  1  |
| `4` |  1  |  1  |  `1`  |  0  |
-->

<table style="text-align: center">
  <thead>
    <tr style="background-color: #51555d; color:white; font-weight: bold">
      <td>êµ¬ë¶„</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="background-color: #51555d; color:white; font-weight: bold">1</td>
      <td>0</td>
      <td><code>1</code></td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td style="background-color: #51555d; color:white; font-weight: bold">2</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td><code>1</code></td>
    </tr>
    <tr>
      <td style="background-color: #51555d; color:white; font-weight: bold">3</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td style="background-color: #51555d; color:white; font-weight: bold">4</td>
      <td>1</td>
      <td>1</td>
      <td><code>1</code></td>
      <td>0</td>
    </tr>
  </tbody>
</table>

### Recursion

```java
public class DFS_1260 {
    public static boolean[] visited;
    public static int[][] graph;
    public static int N, M, V;

    public static void main(String[] args) throws IOException {
        // ì²« ì¤„ ì…ë ¥ ë°›ëŠ” ê³¼ì •
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        V = Integer.parseInt(st.nextToken());

        // ë°›ì€ ì •ë³´ë¥¼ í† ëŒ€ë¡œ ê·¸ë˜í”„ ì´ˆê¸°í™”í•˜ëŠ” ê³¼ì •
        visited = new boolean[N + 1];
        graph = new int[N + 1][N + 1];

        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());
            // ì¸ì ‘ í–‰ë ¬ ìƒì„±
            graph[x][y] = 1;
            graph[y][x] = 1;
        }

        // V(ì‹œì‘í•  ì •ì )ë¶€í„° íƒìƒ‰
        dfs(V);
    }

    public static void dfs(int point) {
        // í˜„ì¬ ë…¸ë“œ ë°©ë¬¸ ì²˜ë¦¬ ë° ì¶œë ¥
        visited[point] = true;
        System.out.print(point + " ");

        // í˜„ì¬ ì •ì ì´ ê·¸ë˜í”„ í¬ê¸°(ë ì§€ì )ì™€ ê°™ë‹¤ë©´ ì¢…ë£Œ
        if (point == graph.length) {
            return;
        }

        for (int i = 1; i < graph.length; i++) {
            // ì¸ì ‘ í–‰ë ¬ì´ ì¡´ì¬í•˜ê³ , ë°©ë¬¸í•˜ì§€ ì•Šì€ ê³³ì´ë¼ë©´ DFS ì§„í–‰
            if (graph[point][i] == 1 && !visited[i]) {
                dfs(i);
            }
        }

    }
}
```

### Stack

```java
public class DFS_1260 {
    public static boolean[] visited;
    public static int[][] graph;
    public static int N, M, V;
    public static Stack<Integer> stack = new Stack<>();

    public static void main(String[] args) throws IOException {
        // ì²« ì¤„ ì…ë ¥ ë°›ëŠ” ê³¼ì •
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        V = Integer.parseInt(st.nextToken());

        // ë°›ì€ ì •ë³´ë¥¼ í† ëŒ€ë¡œ ê·¸ë˜í”„ ì´ˆê¸°í™”í•˜ëŠ” ê³¼ì •
        visited = new boolean[N + 1];
        graph = new int[N + 1][N + 1];

        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());
            // ì¸ì ‘ í–‰ë ¬ ìƒì„±
            graph[x][y] = 1;
            graph[y][x] = 1;
        }

        // V(ì‹œì‘í•  ì •ì )ë¶€í„° íƒìƒ‰
        dfs(V);
    }
    private static void dfs(int point){
      // ê·¸ë˜í”„ì˜ ë ì§€ì 
      int n = graph.length - 1;

      // ìŠ¤íƒì— ì‹œì‘ ì§€ì ì„ ë„£ê³ , ë°©ë¬¸ ì²˜ë¦¬
      stack.push(point);
      visited[point] = true;
      System.out.print(point + " ");

      // ìŠ¤íƒì´ ë¹„ì–´ìˆì„ ë•Œê¹Œì§€ ë°˜ë³µ
      while (!stack.isEmpty()) {
        int peek = stack.peek();
        boolean flag = false;

        // í˜„ì¬ ë…¸ë“œì™€ ì¸ì ‘í•˜ê³ , ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ íƒìƒ‰
        for (int i = 1; i <= n; i++) {
          if (graph[peek][i] == 1 && !visited[i]) {
            // ìŠ¤íƒì— ì¶”ê°€ í›„ ë°©ë¬¸ ì²˜ë¦¬
            stack.push(i);
            System.out.print(i + " ");

            visited[i] = true;
            flag = true;
            break;
          }
        }
        if (!flag) {
          stack.pop();
        }
      }
    }
}
```

## ğŸ¤” íšŒê³ 

ë‘ ë°©ë²•ìœ¼ë¡œ ëª¨ë‘ í’€ì´í•˜ë©´ì„œ, ì¬ê·€ë¥¼ í†µí•œ í’€ì´ê°€ í›¨ì”¬ í’€ê¸° í¸í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.